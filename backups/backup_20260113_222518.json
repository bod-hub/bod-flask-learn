{
    "sections": [
        {
            "id": 1,
            "number": 1,
            "name": "Основы Flask",
            "slug": "basics"
        },
        {
            "id": 2,
            "number": 2,
            "name": "В разработке",
            "slug": "database"
        }
    ],
    "lessons": [
        {
            "id": 7,
            "section_id": 1,
            "number": 4,
            "name": "Практические примеры",
            "slug": "practics",
            "content": {
                "tasks": [
                    {
                        "id": 1,
                        "content": "<p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Вернитесь к приложению по оценке успеваемости студентов.<o:p></o:p></span></span></p><p><span style=\"color:black;font-family:;\"><span style=\"line-height:115%;mso-ansi-language:RU;mso-bidi-language:AR-SA;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:Calibri;mso-fareast-language:EN-US;mso-fareast-theme-font:minor-latin;mso-themecolor:text1;\" times=\"\" new=\"\" roman\",\"serif\";font-size:14.0pt;\"=\"\">Уберите в выводимом списке маркеры списка.</span></span></p>"
                    },
                    {
                        "id": 2,
                        "content": "<p><span style=\"font-family:;\"><span style=\"line-height:115%;mso-ansi-language:RU;mso-bidi-language:AR-SA;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:Calibri;mso-fareast-language:EN-US;mso-fareast-theme-font:minor-latin;\" times=\"\" new=\"\" roman\",\"serif\";font-size:14.0pt;\"=\"\">Добавьте в список студентов условную подсветку строк: если балл меньше 50 — строка красного цвета, от 50 до 79 — жёлтого, 80 и выше — зелёного</span></span></p>"
                    },
                    {
                        "id": 3,
                        "content": "<p class=\"MsoNormal\"><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"><v:stroke joinstyle=\"miter\"><v:formulas><v:f eqn=\"if lineDrawn pixelLineWidth 0\"><v:f eqn=\"sum @0 1 0\"><v:f eqn=\"sum 0 0 @1\"><v:f eqn=\"prod @2 1 2\"><v:f eqn=\"prod @3 21600 pixelWidth\"><v:f eqn=\"prod @3 21600 pixelHeight\"><v:f eqn=\"sum @0 0 1\"><v:f eqn=\"prod @6 1 2\"><v:f eqn=\"prod @7 21600 pixelWidth\"><v:f eqn=\"sum @8 21600 0\"><v:f eqn=\"prod @7 21600 pixelHeight\"><v:f eqn=\"sum @10 21600 0\"></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:formulas><v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"><o:lock v:ext=\"edit\" aspectratio=\"t\"></o:lock></v:path></v:stroke></v:shapetype><v:shape style=\"height:152.15pt;left:0;margin-left:90.05pt;margin-top:17.4pt;mso-position-horizontal-relative:text;mso-position-horizontal:absolute;mso-position-vertical-relative:text;mso-position-vertical:absolute;mso-wrap-distance-bottom:0;mso-wrap-distance-left:9pt;mso-wrap-distance-right:9pt;mso-wrap-distance-top:0;mso-wrap-style:square;position:absolute;text-align:left;visibility:visible;width:164.15pt;z-index:1;\" id=\"Рисунок_x0020_1\" o:spid=\"_x0000_s1026\" type=\"#_x0000_t75\"><v:imagedata src=\"file:///C:\\Temp\\msohtmlclip1\\01\\clip_image001.png\" o:title=\"\"></v:imagedata></v:shape><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Сделайте вывод информации не в виде списка, а в виде таблицы.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Что то типа :</span></span></p><figure class=\"image image_resized\" style=\"width:17.87%;\"><img style=\"aspect-ratio:346/321;\" src=\"https://gvylosdtlepiikialkhn.supabase.co/storage/v1/object/public/lesson-images/4948f1ae-bc40-4b39-b3a3-55d5cbabc7b8.png\" width=\"346\" height=\"321\"></figure><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p>"
                    },
                    {
                        "id": 4,
                        "content": "<p class=\"MsoNormal\">Добавьте в таблицу результатов дополнительный столбец «Статус», где будет выводиться текст «Сдал» или «Не сдал» в зависимости от набранного балла (порог =&nbsp;<span style=\"mso-spacerun:yes;\"> </span>60)<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">.<o:p></o:p></span></span></p>"
                    },
                    {
                        "id": 5,
                        "content": "<p><span style=\"font-family:;\"><span style=\"line-height:115%;mso-ansi-language:RU;mso-bidi-language:AR-SA;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:Calibri;mso-fareast-language:EN-US;mso-fareast-theme-font:minor-latin;\" times=\"\" new=\"\" roman\",\"serif\";font-size:14.0pt;\"=\"\">Отсортируйте список студентов по убыванию баллов, используя только возможности шаблона Jinja2</span></span></p>"
                    },
                    {
                        "id": 6,
                        "content": "<p><span style=\"font-family:&quot;Times New Roman&quot;,&quot;serif&quot;;font-size:14.0pt;\"><span style=\"line-height:115%;mso-ansi-language:RU;mso-bidi-language:AR-SA;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:Calibri;mso-fareast-language:EN-US;mso-fareast-theme-font:minor-latin;\">Добавьте на страницу результатов вывод среднего балла по группе, не изменяя структуру списка студентов в </span></span><span style=\"font-size:10.0pt;\"><code><span style=\"line-height:115%;mso-ansi-language:RU;mso-bidi-language:AR-SA;mso-fareast-font-family:Calibri;mso-fareast-language:EN-US;mso-fareast-theme-font:minor-latin;\">app.py</span></code></span></p>"
                    }
                ],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "Передаёт управление браузеру без рендеринга HTML",
                            "Рендерит HTML-шаблон и возвращает готовый HTTP-ответ ",
                            "Загружает CSS-файлы из папки static",
                            "Создаёт новый маршрут приложения Flask"
                        ],
                        "question": "Какое назначение функции render_template() во Flask?",
                        "correct_index": 1
                    },
                    {
                        "id": 2,
                        "options": [
                            "loop.index ",
                            "loop.counter",
                            "loop.i",
                            "index"
                        ],
                        "question": "Какой объект Jinja2 используется для получения номера текущей итерации цикла, начиная с 1?",
                        "correct_index": 0
                    },
                    {
                        "id": 3,
                        "options": [
                            "Проверяет HTML на ошибки",
                            "Отключает автоматическое экранирование HTML ",
                            "Шифрует данные",
                            "Преобразует HTML в безопасный текст"
                        ],
                        "question": "Что делает фильтр safe в Jinja2?",
                        "correct_index": 1
                    }
                ],
                "theory_html": "<p class=\"MsoNormal\">Важное замечание.</p><p class=\"MsoNormal\">Если на прошлом занятии вы сделали динамически формируемое меню, запомните эту возможность, но сейчас верните всё назад, к статичным гиперссылкам в виде:</p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">&lt;li&gt;&lt;a href=\"{{ url_for('index') }}\"&gt;</span><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\">Главная</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">&lt;/a&gt;&lt;/li&gt;</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><h4>&nbsp;</h4><h4>1. Пример страницы комментариев</h4><p class=\"MsoNormal\">Давайте сделаем, что ни будь более крупное.</p><p class=\"MsoNormal\">Допустим у нас <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-приложение - блог, с возможность оставлять комментарии.</p><p class=\"MsoNormal\">Пусть у нас есть список комментариев в переменной типа список. В реальном приложении эти комментарии будут хранится в базе данных и запрашиваться оттуда.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">1. В <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span> создайте маршрут на страницу <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">comments</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>, и вставьте туда переменную - список с 5 комментариями. Код будет такой:<span style=\"mso-spacerun:yes;\">&nbsp;</span></p><pre><code class=\"language-python\">@app.route(\"/comments/\")\r\ndef comments():\r\n  comments = [\r\n &nbsp;&nbsp; 'Первый комментарий',\r\n &nbsp;&nbsp; 'Второй комментарий',\r\n &nbsp;&nbsp; 'Третий комментарий',\r\n &nbsp;&nbsp; 'Четвёртый комментарий',\r\n &nbsp;&nbsp; 'Пятый комментарий'<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  ]<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  return render_template('comments.html', title=\"Комментарии\", comments=comments)<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">т.е. список комментариев мы отправляем параметром в шаблон страницы <code>comments.html</code> .</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">2. В папке <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span> создайте файл <code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">comments</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span></code> со следующим кодом:</p><pre><code class=\"language-jinja2\">{% extends 'base.html' %}\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% block content %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;h1&gt;{{title}}&lt;/h1&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;div class=\"comments-container\"&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% for comment in comments %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;div class=\"comment-block\"&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;p class=\"comment-text\"&gt;{{ comment }}&lt;/p&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;/div&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% endfor %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/div&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% endblock %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Пояснения<span style=\"mso-ansi-language:EN-US;\"> </span>к<span style=\"mso-ansi-language:EN-US;\"> </span>коду<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">:<o:p></o:p></span></p><p class=\"MsoNormal\">В тэге &lt;h1&gt; (заголовке страницы) мы пишем не статичный текст (как мы сделали на страницах index и about) а берём текст из параметра, переданного обработчиком маршрута comments. (В данном случае он совпадает с текстом в &lt;title&gt;).</p><p class=\"MsoNormal\">Также мы можем использовать обычным образом css-классы, для стилизации списка комментариев.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">3. Замените код в файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">style</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">css</span><span lang=\"EN-US\"> </span>на следующий:</p><pre><code class=\"language-jinja2\">.comments-container {<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  width:50%;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  margin:auto;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n.comment-block {<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  padding: 10px;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  background-color:#EEE;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  margin-bottom: 10px;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n.comment-text {<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  font-size: 24px;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n.menu-list {<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  list-style-type: none;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  padding: 0;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n}<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">4. Замените часть кода в файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span> .</p><p class=\"MsoNormal\">Замените блок &lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">nav</span>&gt; следующим кодом:</p><pre><code class=\"language-jinja2\">&lt;nav class='menu'&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;h2&gt;Меню&lt;/h2&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;ul class=\"menu-list\"&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;li&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;a href=\"{{ url_for('index') }}\"&gt;Главная&lt;/a&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;/li&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;li&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;a href=\"{{ url_for('comments') }}\"&gt;Комментарии&lt;/a&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;/li&gt;<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n  &lt;/ul&gt;<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n&lt;/nav&gt;<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">5. Запустите и протестируйте приложение и страницу комментариев.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">6. Теперь давайте сделаем так, чтобы блоки с комментариями нумеровались, а также, чтобы блоки с чётными и нечётными номерами были с разным фоном.</p><p class=\"MsoNormal\">Измените код цикла for в шаблоне comments.html на следующий:</p><pre><code class=\"language-jinja2\">&lt;div class=\"comments-container\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  {% for comment in comments %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;div class=\"comment-block {{ 'even' if loop.index is even else 'odd' }}\"&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;#{{ loop.index }}&lt;/p&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;p class=\"comment-text\"&gt;{{ comment }}&lt;/p&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;/div&gt;<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n  {% endfor %}<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n&lt;/div&gt;<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Пояснение к коду:<o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В шаблонизаторе </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Jinja</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-themecolor:text1;\">2 ключевое слово </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">loop</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-themecolor:text1;\">(цикл, петля, виток) используется для доступа к специальным переменным-параметрам цикла.<o:p></o:p></span></span></p><p class=\"MsoNormal\">Переменная-параметр loop.index - возвращает номер текущей итерации цикла, начиная с 1. <span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">По другому говоря: loop.index - это такой счётчик цикла, который начинается не с нуля, а с единицы.</span></span></p><p class=\"MsoNormal\">В первой итерации loop.index = 1</p><p class=\"MsoNormal\">Во второй итерации loop.index = 2</p><p class=\"MsoNormal\">И так далее...</p><p class=\"MsoNormal\">Похожие переменные цикла:</p><p class=\"MsoNormal\">loop.index0 — начинается с 0 (0, 1, 2...)</p><p class=\"MsoNormal\">loop.first — True для первой итерации</p><p class=\"MsoNormal\">loop.last — True для последней итерации</p><p class=\"MsoNormal\">loop.length — общее количество элементов</p><p class=\"MsoNormal\">Это удобно для создания чередующегося оформления (полосатых таблиц, списков) и нумерации элементов.</p><p class=\"MsoNormal\">В коде выше, конструкция:</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Courier New&quot;;\"><code>{{ 'even' if loop.index is even else 'odd' }}</code></span>&nbsp;</p><p class=\"MsoNormal\">- проверяет, четный ли номер итерации:</p><p class=\"MsoNormal\">Если четный → добавляет класс even</p><p class=\"MsoNormal\">Если нечетный → добавляет класс odd</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Т.е. в зависимости от чётности/нечётности номера мы устанавливаем разный цвет фона с помощью </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"mso-themecolor:text1;\">.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Courier New&quot;;\">#{{ loop.index }}</span> - выводит порядковый номер комментария (1, 2, 3...)</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\" style=\"line-height:110%;\">&nbsp;</p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Задание 1.<o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">На странице комментариев сделайте так, чтобы фон самого первого комментария был голубого цвета.<o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\">&nbsp;</p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Задание 2.<o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\">Добавьте в шаблон вывод общего количества комментариев над списком, используя возможности Jinja2 без изменения Python-кода.</p><p class=\"MsoNormal\" style=\"line-height:110%;\">&nbsp;</p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Задание 3.<o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\">Измените страницу комментариев так, чтобы последний комментарий дополнительно помечался текстом «(последний)».<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">7. Предположим, мы хотим, чтобы текст комментариев отображался в верхнем регистре. Замените строку кода, где выводится очередной комментарий на следующую:</p><p class=\"a\"><code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">&lt;p class=\"comment-text\"&gt;{{ comment | upper }}&lt;/p&gt;</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">Вертикальная черта | в jinja2 определяет добавочные методы, которые можно применить к данным, например поменять регистр или отсортировать. С этими методами познакомимся позже.</p><p class=\"MsoNormal\">(Хотя, конечно, верхний регистр правильнее было бы сделать стилями <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">CSS</span>).</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\" style=\"line-height:110%;\">&nbsp;</p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">8. Мы можем объединить все комментарии в одну строку (методом </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">join</span><span style=\"mso-themecolor:text1;\">()). Замените</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">весь</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">код</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">блока</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">комментариев</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> comments-container </span><span style=\"mso-themecolor:text1;\">на</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">следующий</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">:<o:p></o:p></span></span></p><pre><code class=\"language-jinja2\">&lt;div class=\"comments-container\"&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;p class=\"comment-text\"&gt; {{ comments | join(\" | \") }} &lt;/p&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n&lt;/div&gt;<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\">&nbsp;</p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">9. Допустим, мы хотим выводить каждый комментарий в абзаце и разделённый горизонтальной чертой. Попробуем</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">такую</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">идею</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">:<o:p></o:p></span></span></p><pre><code class=\"language-jinja2\">&lt;div class=\"comments-container\"&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;p class=\"comment-text\"&gt; {{ comments | join(\" &lt;hr&gt; &lt;p class='comment-text'&gt;\") }}<span style=\"color:black;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n&lt;/div&gt;<span style=\"color:black;\"><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Мы видим, что рендеринг </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"mso-themecolor:text1;\">-кода осуществлён некорректно.</span><span style=\"mso-spacerun:yes;mso-themecolor:text1;\">&nbsp;</span><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Здесь нужно добавить специальный параметр </span><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">safe</span></code><span style=\"mso-themecolor:text1;\"> (безопасный рендеринг </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"mso-themecolor:text1;\">):<o:p></o:p></span></span></p><pre><code class=\"language-jinja2\">&lt;div class=\"comments-container\"&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;p class=\"comment-text\"&gt; {{ comments | join(\" &lt;hr&gt; &lt;p class='comment-text'&gt;\") | safe }}<span style=\"color:black;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n&lt;/div&gt;<span style=\"color:black;\"><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Обратите внимание: мы не ставим закрывающий тэг абзаца &lt;/</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">p</span><span style=\"mso-themecolor:text1;\">&gt;. Браузер расставит их автоматически.<o:p></o:p></span></span></p><p class=\"MsoNormal\" style=\"line-height:110%;\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:red;\"><o:p></o:p></span></p><h4>&nbsp;</h4><h4>2. Ещё один пример</h4><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">1. Предположим у нас есть данные успеваемости студентов:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">(в виде списка словарей)<o:p></o:p></span></span></p><pre><code class=\"language-python\">students = [<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {\"name\": \"Диас\",  \"score\": 70},<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {\"name\": \"Олег\", \"score\": 100},<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {\"name\": \"Светлана\", \"score\": 60},<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {\"name\": \"Алишер\", \"score\": 85},<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {\"name\": \"Максим\", \"score\": 40},<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span>\r\n]<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Добавьте этот список в файл </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">app</span><span style=\"mso-themecolor:text1;\">.</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">py</span><span style=\"mso-themecolor:text1;\"> перед функциями рендеринга маршрутов.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">(Если там есть другие данные из предыдущих уроков (списки, словари) - удалите их.)<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">2. Также добавьте маршрут</span><span style=\"mso-spacerun:yes;mso-themecolor:text1;\">&nbsp; </span><span style=\"mso-themecolor:text1;\">страницы 'results.html', передав ему параметром список:<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">@app.route(\"/results/\")<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">def results():<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp; </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">return render_template(<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">'results.html',<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">title=\"</span><span style=\"mso-themecolor:text1;\">Результаты</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">\",<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-tab-count:1;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\"> &nbsp;</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">students=students,<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">test_name='</span><span style=\"mso-themecolor:text1;\">Тест</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">по</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> Python',<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style=\"mso-themecolor:text1;\">max_score=100, # максимальный балл )<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">3. В каталоге </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">templates</span><span style=\"mso-themecolor:text1;\"> - создайте страницу </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">results</span><span style=\"mso-themecolor:text1;\">.</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"mso-themecolor:text1;\"> со следующим кодом:<o:p></o:p></span></span></p><pre><code class=\"language-jinja2\">{% extends 'base.html' %}\r\n<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p><o:p></o:p></span></span>\r\n{% block content %}<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n&lt;h1&gt; Результаты теста: {{ test_name }}&lt;/h1&gt;<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span>\r\n&lt;ul&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n{% for student in students %}<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;li&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; &lt;em&gt;{{student.name}}:&lt;/em&gt; {{student.score}}/{{max_score}}<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;/li&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n{% endfor %}<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n&lt;/ul&gt;<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n{% endblock %}<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;font-family:&quot;Courier New&quot;;\"><span style=\"mso-ansi-language:EN-US;mso-bidi-font-family:&quot;Times New Roman&quot;;mso-bidi-theme-font:minor-bidi;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">4. </span><span style=\"mso-ansi-language:KZ;mso-themecolor:text1;\" lang=\"KZ\">Самостоятельно добавьте гиперссылку на страницу </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">'results.html'</span><span style=\"mso-ansi-language:KZ;mso-themecolor:text1;\" lang=\"KZ\"> в </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">'base.html'<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">5. Запустите код и протестируйте.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Проанализируйте код в шаблоне </span><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">results</span><span style=\"mso-themecolor:text1;\">.</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span></code><span style=\"mso-themecolor:text1;\">. Обратите внимание как идёт обращение к ключам словаря через точку </span></span><span style=\"color:black;font-family:&quot;Courier New&quot;;\"><code><span style=\"mso-themecolor:text1;\">student.name</span></code></span><span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-themecolor:text1;\"> .</span></span><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">6. Усложним логику предыдущего примера и добавим условия:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Измените цикл </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">for</span><span style=\"mso-themecolor:text1;\"> в шаблоне </span><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">results</span><span style=\"mso-themecolor:text1;\">.</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span></code><span style=\"mso-themecolor:text1;\"> следующим образом:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-size:12.0pt;\"><span style=\"line-height:115%;mso-themecolor:text1;\">(Остальной код остаётся тот же)<o:p></o:p></span></span></p><pre><code class=\"language-jinja2\">{% for student in students %}<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;li&gt;<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {% if student.score &gt;= 90 %} &amp;#x2B50;<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {% elif student.score &gt;= 70 and student.score &lt; 90 %} &amp;#x1F600;<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {% else %} &amp;#x1F615;<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; {% endif %}<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; &lt;em&gt;{{student.name}}:&lt;/em&gt; {{student.score}}/{{max_score}}<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n  &lt;/li&gt;<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-themecolor:text1;\"><o:p></o:p></span></span>\r\n{% endfor %}<span style=\"color:black;font-size:13.0pt;\"><span style=\"line-height:115%;mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">7. Протестируйте работу приложения. Проанализируйте код. Разберитесь, что означают конструкции вида </span></span><span style=\"color:black;font-family:&quot;Courier New&quot;;\"><span style=\"mso-themecolor:text1;\">&amp;#x2B50;</span></span><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"> и подобные.<o:p></o:p></span></span></p>"
            },
            "is_published": true
        },
        {
            "id": 3,
            "section_id": 2,
            "number": 1,
            "name": "В разработке",
            "slug": "supabase-connect",
            "content": {
                "tasks": [],
                "tests": [],
                "theory_html": ""
            },
            "is_published": true
        },
        {
            "id": 9,
            "section_id": 1,
            "number": 6,
            "name": "Переменная часть адреса. errorhandler. redirect",
            "slug": "adress-errorhandler-redirect",
            "content": {
                "tasks": [
                    {
                        "id": 1,
                        "content": "<p>Самостоятельно сделайте страницу ошибки 'page_404.html' на свой вкус используя <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">CSS</span> стилизацию.<br>(Если вы не владеете CSS - воспользуйтесь ИИ.<br>\"Скормите ему HTML-код и попросите добавить к этому HTML соответствующий CSS, для красивой стилизации\")</p>"
                    },
                    {
                        "id": 2,
                        "content": "<p class=\"MsoNormal\">Создайте маршрут /post/<int:post_id> и выведите на странице текст Post {post_id}. Проверьте работу маршрута с разными целыми числами.</int:post_id></p>"
                    },
                    {
                        "id": 3,
                        "content": "<p class=\"MsoNormal\">Объедините переменные маршрутов и redirect: создайте маршрут /go/&lt;username&gt; — при переходе по нему пользователь автоматически перенаправляется на маршрут /users/&lt;username&gt;. Проверьте работу редиректа для разных значений username.</p>"
                    }
                ],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "Секцию, которая игнорируется сервером",
                            "Тип файла HTML, который будет отдан пользователю",
                            "Имя шаблона, используемого для маршрута",
                            "Динамическую переменную, которая передаётся в функцию обработчика "
                        ],
                        "question": "Что обозначает часть URL в Flask, заключённая в угловые скобки <…>?",
                        "correct_index": 3
                    },
                    {
                        "id": 2,
                        "options": [
                            "number",
                            "path",
                            "integer",
                            "int"
                        ],
                        "question": "Какой конвертер следует использовать, если нужно принимать только целые числа в маршруте?",
                        "correct_index": 3
                    },
                    {
                        "id": 3,
                        "options": [
                            "Ошибка 404 ",
                            "Строковое значение переменной",
                            "0",
                            "Пустую страницу"
                        ],
                        "question": "Что вернёт Flask, если пользователь введёт в маршрут /users/<int:user_ID> строку, которая не является числом?",
                        "correct_index": 0
                    },
                    {
                        "id": 4,
                        "options": [
                            "path ",
                            "int",
                            "slash",
                            "uuid"
                        ],
                        "question": "Какой конвертер позволяет принимать в переменной части маршрута символ /?",
                        "correct_index": 0
                    },
                    {
                        "id": 5,
                        "options": [
                            "Создаёт обработчик для всех ошибок сервера",
                            "Создаёт обработчик для конкретного кода ответа HTTP ",
                            "Автоматически перенаправляет пользователя на главную страницу",
                            "Обрабатывает ошибки пользователя"
                        ],
                        "question": "Что делает декоратор @app.errorhandler(404)?",
                        "correct_index": 1
                    },
                    {
                        "id": 6,
                        "options": [
                            "Перенаправляет пользователя на другой маршрут или URL ",
                            "Создаёт шаблон страницы",
                            "Устанавливает cookie",
                            "Возвращает код ошибки сервера"
                        ],
                        "question": "Что делает функция redirect() во Flask?",
                        "correct_index": 0
                    },
                    {
                        "id": 7,
                        "options": [
                            "Чтобы получить HTML-код страницы",
                            "Чтобы создать внешнюю ссылку на другой сайт",
                            "Чтобы указать внутренний маршрут Flask по имени функции обработчика ",
                            "Чтобы очистить данные сессии"
                        ],
                        "question": "Для чего используется функция url_for() вместе с redirect()?",
                        "correct_index": 2
                    },
                    {
                        "id": 8,
                        "options": [
                            "Да ",
                            "Нет",
                            "Только внутри приложения",
                            "Только с конвертером path"
                        ],
                        "question": "Можно ли использовать redirect() для перенаправления на внешний сайт?",
                        "correct_index": 0
                    },
                    {
                        "id": 9,
                        "options": [
                            "Автоматически откроется главная страница",
                            "Создастся новая переменная в URL",
                            "Сработает redirect на главную страницу",
                            "Выведется стандартная страница с кодом 404 "
                        ],
                        "question": "Что произойдёт, если в приложении отсутствует маршрут, а пользователь введёт несуществующий URL?",
                        "correct_index": 3
                    }
                ],
                "theory_html": "<h4>1. Переменная часть адреса (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span>)<span style=\"color:black;font-family:&quot;Yandex Sans Display Light&quot;,&quot;serif&quot;;\"><o:p></o:p></span></h4><p class=\"MsoNormal\">Представим себе, что у нас приложение с регистрацией пользователей и мы предоставляем или не предоставляем контент в зависимости от того, зарегистрирован данный пользователь или нет.</p><p class=\"MsoNormal\" style=\"tab-stops:232.15pt;\"><span style=\"mso-tab-count:1;\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class=\"MsoNormal\">В файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span><span lang=\"EN-US\"> </span>создайте следующий маршрут:</p><p class=\"MsoNormal\">(временно, мы протестируем идею и потом уберём этот маршрут)</p><pre><code class=\"language-python\">@app.route(\"/users/&lt;username&gt;\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef users(username):<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return f\"Пользователь: {username}\"<span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Здесь мы в маршруте <span style=\"font-family:&quot;Courier New&quot;;\"><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">/users</span></span><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\"> далее указываем в угловых скобках переменную часть маршрута </span><span style=\"font-family:&quot;Courier New&quot;;\"><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">/&lt;username&gt;</span></span><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\"> (в данном случае имя пользователя)</span></p><p class=\"MsoNormal\">Запустите приложение (главную станицу) и в адресной строке браузера перейдите по адресу:</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">http://127.0.0.1:5000/users/user-1</span></code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">Браузер выведет:&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;font-size:13.5pt;\"><code><span style=\"line-height:115%;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">Пользователь: user-1</span></code></span></p><p class=\"MsoNormal\">Т.е. мы передали параметр (переменную часть <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span>) в приложение.</p><p class=\"MsoNormal\">Измените имя <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">user</span>-1 на любое другое и протестируйте.</p><p class=\"MsoNormal\">В дальнейшем, в зависимости от значения этой переменной части адреса мы можем по разному определять логику работы нашего приложения.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Теперь попробуйте ввести адрес:</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">http://127.0.0.1:5000/users/12345</span></code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">Соответственно, username = \"12345\", но это не число 12345, а строка \"12345\".<span style=\"mso-spacerun:yes;\">&nbsp; </span>То есть все, что указывается в URL, записывается в виде строки.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Если нам нужно, в качестве параметра указать именно число, например числовой идентификатор пользователя <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">ID</span>, мы можем использовать конвертер.</p><pre><code class=\"language-python\">@app.route(\"/users/&lt;int:user_ID&gt;\")\r\ndef users(user_ID):<code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code>\r\n &nbsp;&nbsp; return f\"Пользователь: {user_ID}\"<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Снова введите адрес:&nbsp;</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">http://127.0.0.1:5000/users/12345</span></code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">Визуально в браузере ничего не изменилось, но теперь мы получили в приложение не строку, а целое число, применив конвертор <span style=\"font-family:&quot;Courier New&quot;;\">int:</span> .</p><p class=\"MsoNormal\">Если мы сейчас введём не число а строку (даже с цифрами):</p><p class=\"a\"><code>http://127.0.0.1:5000/users/12345abc</code></p><p class=\"MsoNormal\">Браузер вернёт ошибку 404.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">В качестве конверторов можно использовать следующие обозначения:</p><p class=\"MsoNormal\">int – должны присутствовать только цифры;</p><p class=\"MsoNormal\">float – можно записывать число с плавающей точкой;</p><p class=\"MsoNormal\">path – можно использовать любые допустимые символы URL плюс символ слеша ‘/’</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Например, при конверторе path:</p><pre><code class=\"language-python\">@app.route(\"/users/&lt;path:username&gt;\")\r\ndef users(username):<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return f\"Пользователь: {username}\"<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Можно сформировать следующий запрос:</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">http://127.0.0.1:5000/users/12345/path</span></code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">Браузер выведет:</p><p class=\"MsoNormal\"><span style=\"color:black;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">Пользователь: 12345/path</span></code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\">Но если убрать конвертор </span>path:</p><p class=\"a\"><code>@app.route(\"/users/&lt;username&gt;\")</code></p><p class=\"MsoNormal\">Тот же запрос приведёт к ошибке.</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>&nbsp;</h4><h4>Повторение и резюмирование информации про переменную часть адреса <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span>.</h4><p class=\"MsoNormal\">Правила для переменной части URL-адреса.</p><p class=\"MsoNormal\">Для составления динамически меняющихся URL-адресов, необходимо изменяемые части адреса выделять как &lt;variable_name&gt;. Затем эти части передаются в функцию, в виде аргумента с именем variable_name. Также в изменяемых частях может быть использован конвертер, который задает правила следующего вида &lt;converter:variable_name&gt;.</p><p class=\"MsoNormal\">Например:</p><pre><code class=\"language-python\">@app.route('/user/&lt;username&gt;')<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\ndef show_user_profile(username):<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; # выведет имя профиля пользователя `username`<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return f'Пользователь: {username}'<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span></code></pre><p class=\"a\"><o:p></o:p></p><pre><code class=\"language-python\">@app.route('/post/&lt;int:post_id&gt;')<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\ndef show_post(post_id):<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; # выведет страницу с данным `post_id` (целое число)<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return f'Post {post_id}'<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"a\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><pre><code class=\"language-python\">@app.route('/path/&lt;path:subpath&gt;')<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef show_subpath(subpath):<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; # выведет subpath после /path/<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return f'Subpath {subpath}'</code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">В Flask существуют следующие конвертеры:</p><p class=\"MsoNormal\">int: принимаются <span style=\"color:windowtext;\"><span style=\"text-decoration:none;text-underline:none;\">целочисленные значения</span></span>;</p><p class=\"MsoNormal\">float: принимаются <span style=\"color:windowtext;\"><span style=\"text-decoration:none;text-underline:none;\">значения с плавающей точкой</span></span>;</p><p class=\"MsoNormal\">path: принимает строки (как по умолчанию), но также принимает слэши;</p><p class=\"MsoNormal\">uuid: принимает строки UUID.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>2. Декоратор errorhandler</h4><p class=\"MsoNormal\">Следующим важным моментом при разработке сайта является отлавливание некоторых ошибок <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">http</span>-ответа сервера. Например, при отсутствии или неправильном адресе какой-либо страницы пользователь в браузере увидит следующее:</p><figure class=\"image image_resized\" style=\"width:58.14%;\"><img style=\"aspect-ratio:746/141;\" src=\"https://gvylosdtlepiikialkhn.supabase.co/storage/v1/object/public/lesson-images/ee773d9e-34d8-4723-bb33-e19377969d4f.png\" width=\"746\" height=\"141\"></figure><p class=\"MsoNormal\"><span style=\"mso-fareast-language:RU;mso-no-proof:yes;\"><v:shape style=\"height:120.75pt;mso-wrap-style:square;visibility:visible;width:374.25pt;\" id=\"Рисунок_x0020_1\" o:spid=\"_x0000_i1026\" type=\"#_x0000_t75\" alt=\"https://proproprogs.ru/htm/flask/files/dekorator-errorhandler-funkcii-redirect-i-abort.files/image001.jpg\"><v:imagedata src=\"file:///C:\\Temp\\msohtmlclip1\\01\\clip_image001.jpg\" o:title=\"image001\"></v:imagedata></v:shape></span></p><p class=\"MsoNormal\">Это есть стандартный ответ сервера с кодом 404 – страница не найдена. В таких ситуациях лучше иметь обработчик для кода 404, который бы возвращал пользователю более дружественную информацию.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">1. Чтобы создать такой обработчик, следует использовать специальный декоратор errorhandler с указанием в нем кода ответа, с которым будет ассоциирована функция представления:</p><pre><code class=\"language-python\">@app.errorhandler(404)<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef pageNotFount(error):<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  return render_template('page404.html', title=\"Страница не найдена\"), 404<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">2. Затем, добавим шаблон page404.html, например, такой:</p><pre><code class=\"language-python\">{% extends 'base.html' %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% block content %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  Страница не найдена, вернуться на &lt;a href=\"/\"&gt;Главную&lt;/a&gt; страницу.\r\n{% endblock %}</code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">И при обновлении страницы, увидим более дружественное сообщение:</p><figure class=\"image image_resized\" style=\"width:38.65%;\"><img style=\"aspect-ratio:598/92;\" src=\"https://gvylosdtlepiikialkhn.supabase.co/storage/v1/object/public/lesson-images/dd7007ed-efb7-4b9b-b7c1-0d6246a3da2b.png\" width=\"598\" height=\"92\"></figure><p class=\"MsoNormal\"><span style=\"mso-fareast-language:RU;mso-no-proof:yes;\"><v:shape style=\"height:42pt;mso-wrap-style:square;visibility:visible;width:285pt;\" id=\"Рисунок_x0020_4\" o:spid=\"_x0000_i1025\" type=\"#_x0000_t75\" alt=\"https://proproprogs.ru/htm/flask/files/dekorator-errorhandler-funkcii-redirect-i-abort.files/image002.jpg\"><v:imagedata src=\"file:///C:\\Temp\\msohtmlclip1\\01\\clip_image002.jpg\" o:title=\"image002\" croptop=\"44327f\" cropbottom=\"6434f\" cropright=\"25689f\"></v:imagedata></v:shape></span></p><h2><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></h2><h4>3. функция <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">redirect</span>().</h4><p class=\"MsoNormal\">Чтобы перенаправить пользователя на другую страницу сайта, используйте функцию <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">flask.redirect()</span></code></span>.</p><p class=\"MsoNormal\">Перед использованием необходимо импортировать классы <span style=\"mso-fareast-language:RU;\">redirect</span> и <span style=\"mso-fareast-language:RU;\">url_for :</span></p><p class=\"a\"><code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">from flask import redirect<o:p></o:p></span></code></p><p class=\"a\"><code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">from flask import url_for</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">Для примера при переходе пользователя на страницу \"О приложении\" сделаем перенаправление (конечно бессмысленное) на страницу \"Логин\".</p><p class=\"MsoNormal\">Поменяйте (временно) код обработчика /about/ :</p><pre><code class=\"language-python\">@app.route(\"/about/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef about():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp; return redirect(url_for('login'))<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Теперь при нажатии ссылки \"О приложении\" пользователь попадает на \"Логин\".</p><p class=\"MsoNormal\">(если, вдруг, вы удалили ссылку (маршрут) \"О приложении\", добавьте её в навигационное меню в файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>)</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Можно сделать перенаправление на внешний сайт:</p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\">return redirect('https://www.youtube.com/')</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">То же несколько бессмысленно, поскольку это можно сделать статичной гиперссылкой. Функция url_for тут не используется, поскольку это не маршрут в нашем приложении, а внешний <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span>.</p><p class=\"MsoNormal\">Теперь верните назад код обработчика /about/</p><p class=\"MsoNormal\">Позже мы сделаем более осмысленный <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">redirect</span>, когда реализуем полнофункциональную регистрацию пользователей.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p>"
            },
            "is_published": true
        },
        {
            "id": 1,
            "section_id": 1,
            "number": 1,
            "name": "Начало. Первое приложение на Flask",
            "slug": "start",
            "content": {
                "tasks": [
                    {
                        "id": 1,
                        "content": "<p class=\"MsoNormal\">Удалите папку с проектом и проделайте всё заново самостоятельно.</p><p class=\"MsoNormal\">Создайте папку проекта и настройте виртуальное окружение для Flask. Установите Flask и убедитесь, что он корректно работает, выполнив команду для проверки версии.</p>"
                    },
                    {
                        "id": 2,
                        "content": "<p class=\"MsoNormal\">Создайте файл app.py и реализуйте минимальное Flask-приложение с одной главной страницей, которое выводит текст «Привет, Flask!». Запустите сервер и проверьте отображение текста в браузере.</p>"
                    },
                    {
                        "id": 3,
                        "content": "<p class=\"MsoNormal\">Добавьте ещё один маршрут /hello, который возвращает текст «Привет, студент!». Убедитесь, что при переходе на /hello отображается правильный текст, а главная страница остаётся доступной.</p>"
                    },
                    {
                        "id": 4,
                        "content": "<p class=\"MsoNormal\">Измените текст на главной странице на «Добро пожаловать на мой сайт» и проверьте, что сервер автоматически обновляет изменения при включённом debug=True.</p>"
                    },
                    {
                        "id": 5,
                        "content": "<p class=\"MsoNormal\">Создайте маршрут /about, который возвращает HTML-код с заголовком:</p><p>\"О сайте\"</p><p>и коротким абзацем:</p><p>\"Это мой первый проект на Flask\".</p><p>Проверьте корректность отображения HTML в браузере.</p>"
                    },
                    {
                        "id": 6,
                        "content": "<p class=\"MsoNormal\">Сделайте так, чтобы каждая страница имела ссылку на главную страницу для возврата. Проверьте переходы между всеми страницами приложения.</p>"
                    },
                    {
                        "id": 7,
                        "content": "<p class=\"MsoNormal\">Попробуйте создать маршрут /contact, который возвращает HTML-форму с полями «Имя» и «Сообщение». На данном этапе форма не должна обрабатывать данные, только отображаться в браузере.</p>"
                    },
                    {
                        "id": 8,
                        "content": "<p class=\"MsoNormal\">В <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">ChatGPT</span><span lang=\"EN-US\"> </span>самостоятельно почитайте на тему:</p><p class=\"MsoNormal\">- Django;</p><p class=\"MsoNormal\">- FastAPI;</p><p class=\"MsoNormal\">- другие Python web-фреймворки.</p><p class=\"MsoNormal\">Обратите внимание:</p><p class=\"MsoNormal\">на различия;</p><p class=\"MsoNormal\">на сложность;</p><p class=\"MsoNormal\">на области применения;</p><p class=\"MsoNormal\">что выбирать на практике для той или иной задачи/проекта.</p>"
                    }
                ],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "Он предназначен только для небольших сайтов",
                            "Он включает минимальный набор функций, а остальное подключается через расширения ",
                            "Он работает быстрее других фреймворков",
                            "Он поддерживает только один файл приложения"
                        ],
                        "question": "Что означает, что Flask является микрофреймворком?",
                        "correct_index": 1
                    },
                    {
                        "id": 2,
                        "options": [
                            "Для обработки HTTP-запросов",
                            "Для взаимодействия с базами данных",
                            "Для запуска сервера разработки",
                            "Для динамического формирования HTML-страниц"
                        ],
                        "question": "Для чего во Flask используется шаблонизатор Jinja2 ?",
                        "correct_index": 3
                    },
                    {
                        "id": 3,
                        "options": [
                            "Веб-сервер для Python-приложений",
                            "Интерпретатор Python для серверов",
                            "Библиотека Flask для маршрутизации",
                            "Стандарт взаимодействия между веб-сервером и Python-приложением"
                        ],
                        "question": "Что такое WSGI?",
                        "correct_index": 3
                    },
                    {
                        "id": 4,
                        "options": [
                            "Запускает веб-сервер",
                            "Формирует и возвращает HTTP-ответ",
                            "Подключает расширения",
                            "Управляет базой данных"
                        ],
                        "question": "Какую роль выполняет функция, связанная с маршрутом Flask?",
                        "correct_index": 1
                    },
                    {
                        "id": 5,
                        "options": [
                            "Для ускорения работы приложения",
                            "Для изоляции зависимостей проекта ",
                            "Для автоматического обновления Flask",
                            "Для подключения шаблонов Jinja"
                        ],
                        "question": "Зачем в Flask-проекте используется виртуальное окружение?",
                        "correct_index": 1
                    },
                    {
                        "id": 6,
                        "options": [
                            "Запускает Flask-приложение",
                            "Подключает шаблонизатор",
                            "Связывает URL-адрес с функцией-обработчиком ",
                            "Настраивает режим отладки"
                        ],
                        "question": "Что делает декоратор @app.route(\"/\") ?",
                        "correct_index": 2
                    },
                    {
                        "id": 7,
                        "options": [
                            "Приложение становится быстрее",
                            "Flask автоматически перезапускается при изменении кода ",
                            "Flask переходит в боевой режим",
                            "Отключается обработка ошибок"
                        ],
                        "question": "Что происходит при включённом параметре debug=True?",
                        "correct_index": 1
                    },
                    {
                        "id": 8,
                        "options": [
                            "Только HTML-файл",
                            "Только строку",
                            "Любой корректный HTTP-ответ, в том числе строку с HTML ",
                            "Только объект Flask"
                        ],
                        "question": "Что может возвращать функция маршрута Flask?",
                        "correct_index": 2
                    },
                    {
                        "id": 9,
                        "options": [
                            "Такой код сложно поддерживать и масштабировать ",
                            "Flask не поддерживает HTML",
                            "Это снижает безопасность сервера",
                            "Браузер не сможет отобразить страницу"
                        ],
                        "question": "Почему не рекомендуется возвращать HTML-код прямо из функции маршрута в реальных проектах?",
                        "correct_index": 0
                    }
                ],
                "theory_html": "<h4>1. Введение</h4><p>Flask — это микрофреймворк для создания веб-приложений на языке Python.</p><p>Он предоставляет базовый набор возможностей для обработки HTTP-запросов и формирования ответов, а всё остальное разработчик добавляет по мере необходимости с помощью расширений.</p><p>Ключевая идея Flask — простота и гибкость:</p><p>- можно быстро начать с минимального кода;</p><p>- можно постепенно расширять проект, не переписывая его с нуля.</p><p>Flask широко используется:</p><p>- для учебных проектов;</p><p>- для внутренних сервисов;</p><p>- для прототипирования;</p><p>- для полноценных веб-приложений при грамотной архитектуре.</p><p>Для генерации HTML-страниц Flask использует шаблонизатор Jinja2, который позволяет вставлять в HTML:</p><p>- переменные;</p><p>- условия;</p><p>- циклы;</p><p>- используя синтаксис, похожий на Python.</p><p>(О том, что такое шаблонизатор и о синтаксисе Jinja2 в следующих лекциях)</p><p>&nbsp;</p><h4>2. Как работает веб-приложение</h4><p>Когда пользователь вводит адрес сайта в браузере (например, example.com), браузер отправляет HTTP-запрос на сервер, где размещено веб-приложение.</p><p>Упрощённая схема работы выглядит так:</p><p>Браузер → Веб-сервер → Flask-приложение → Ответ браузеру</p><p>На сервере обычно установлены:</p><p>операционная система (чаще Linux);</p><p>веб-сервер (например, Nginx);</p><p>сервер приложений Python (например, gunicorn);</p><p>само Flask-приложение.</p><p>Flask-приложение является WSGI-приложением.</p><p>WSGI (Web Server Gateway Interface) — это стандарт взаимодействия между:</p><p>веб-сервером;</p><p>Python-приложением.</p><p>WSGI — не сервер и не интерпретатор, а именно интерфейс (набор правил), по которым сервер передаёт запросы Python-приложению и получает ответы.</p><p>На каждом HTTP-запросе Flask:</p><p>получает запрос;</p><p>находит соответствующий маршрут;</p><p>выполняет связанную с ним функцию (представление, view);</p><p>возвращает HTTP-ответ браузеру.</p><p>&nbsp;</p><figure class=\"image\"><img src=\"https://gvylosdtlepiikialkhn.supabase.co/storage/v1/object/public/lesson-images/0d8310c3-3f02-4515-a9cd-0a56cc355762.png\"></figure><h4>3. Подготовка окружения и установка Flask</h4><p>В современных Python-проектах обязательно используется виртуальное окружение, чтобы изолировать зависимости проекта.</p><p>&nbsp;</p><p>Шаг 1. Создание проекта</p><p>Создайте папку проекта:</p><p><code>flask304</code></p><p>Откройте эту папку в VS Code.</p><p>Откройте терминал:</p><p>Terminal → New Terminal</p><p>Снизу откроется окно терминала для ввода команд (причём именно в папке проекта)</p><p>(Terminal&nbsp;это то же, что окно командной строки, CMD, Bash, интерфейс ввода и&nbsp;выполнения команд, совершения различных действий, в операционной системе без графического интерфейса, причём команды, обычно, отличаются для ОС Windows&nbsp;и ОС Linux/Mac, но иногда бывают похожи или одинаковы)</p><p>&nbsp;</p><p>Шаг 2. Создание виртуального окружения.</p><p>виртуальное окружение - virtual environment, сокр.: venv</p><p>&nbsp;</p><p>В терминале выполните:</p><p><code>python -m venv venv</code></p><p><i>После выполнения этой команды в папке проекта появится папка&nbsp;venv. Это служебная папка, мы её не будем использовать. В эту папку будут устанавливаться пакеты/библиотеки, в т.ч.&nbsp;Flask. Таким образом, пакеты/библиотеки будут специфичны для данного проекта, и не будут влиять на другие проекты. То же самое относится к работающему приложению на \"боевом\" сервере. Приложение будет выполняться в своей изолированной среде и не влиять и не получать влияние от других, запущенных на этом сервер приложений.</i></p><p>&nbsp;</p><p>Активируйте&nbsp;окружение:</p><p>Windows</p><p><code>venv\\Scripts\\activate</code></p><p>Linux / macOS</p><p><code>source venv/bin/activate</code></p><p>После активации в начале строки терминала появится (venv).</p><p>&nbsp;</p><p>Шаг 3. Установка Flask</p><p>Для установки используется специальная команда pip.</p><p>pip - это менеджер пакетов Python, для установки дополнительных пакетов/библиотек для решения различных задач, которые не входят в стандартную установку (ядро) Python</p><p>&nbsp;</p><p>Установите Flask:</p><p><code>pip&nbsp;install&nbsp;flask</code></p><p>Проверьте установку:</p><p><code>pip&nbsp;show&nbsp;flask</code></p><p>Если всё установилось успешно, в терминале вы увидите ряд сообщений, включая номер установленной версии библиотеки (фреймворка) Flask.</p><p>&nbsp;</p><h4>4. Первое Flask-приложение</h4><p>Шаг 1. Создание файла приложения</p><p>В папке проекта создайте файл:</p><p>app.py</p><p>&nbsp;</p><p>Шаг 2.&nbsp;Код&nbsp;приложения</p><pre><code class=\"language-plaintext\">from flask import Flask\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route(\"/\")\r\ndef&nbsp;index():\r\n    return \"Привет, 304 группа!\"\r\n\r\nif __name__ == \"__main__\":\r\n    app.run(debug=True)</code></pre><p>Пояснения к коду:</p><p>Flask — основной класс фреймворка.</p><p>app = Flask(__name__) — создание объекта приложения.</p><p>@app.route(\"/\") — декоратор, связывающий URL-адрес с функцией.</p><p>Функция index() выполняется при обращении к главной странице сайта (которая будет называться index.html, и которую мы создадим позже).</p><p>Возвращаемое значение функции становится HTTP-ответом.</p><p>Условие if __name__ == '__main__': должно быть записано именно так.</p><p><i>(Объяснение этого нам не важно, но желающие могут спросить в&nbsp;ChatGPT самостоятельно)</i></p><p>debug=True включает режим разработки:</p><p>- автоматический перезапуск приложения;</p><p>- подробные сообщения об ошибках.</p><p>В рабочем (боевом) окружении debug=True никогда не используется.</p><p>(Понятие декораторов рассматривается в объектно-ориентированном программировании на Python. Сейчас нам вникать в это не нужно)</p><p>&nbsp;</p><h4>5. Запуск приложения</h4><p>В терминале выполните:</p><p><code>python app.py</code></p><p>В консоли появится сообщение о запуске локального сервера, например:</p><p><code>http://127.0.0.1:5000</code></p><p>Откройте браузер и перейдите по этому адресу.</p><p>Вы увидите сообщение «Привет, 304 группа!».</p><p>(Проще в VS&nbsp;Code, в окне терминала, нажать на подчёркнутый адрес сервера удерживая 'ctrl').</p><p>&nbsp;</p><p>Измените текст, выводимый на домашнюю страницу, на 'Всем пока' (в функции index()) и обновите браузер.</p><p>Обратите внимание: нам не нужно при изменении кода каждый раз перезапускать сервер, он перезапускается автоматически (благодаря параметру debug=True).</p><p>Но, при этом всё же нужно обновлять браузер клавишей F5.</p><p>&nbsp;</p><p>6. Остановите сервер в терминале нажав кнопку корзины.</p><p>Зайдите в браузер и обновите. Вы увидите, что страница перестала рендерится т.к. сервер был остановлен.</p><p>Если в процессе разработки будут какие то непонятные ошибки, не связанные с кодом, может помочь остановка и запуск сервера, закрытие и открытие браузера, закрытие и открытие VS&nbsp;Code.</p><p>&nbsp;</p><p><i>Примечание: При создании приложения и наборе кода могут возникать ошибки. Для начала проверьте правильность кода, если всё равно возникают ошибки - обратись к преподавателю.</i></p><p>&nbsp;</p><h4>6. Несколько страниц и маршрутов</h4><p>Flask позволяет создавать несколько маршрутов — отдельных страниц сайта.</p><p>&nbsp;</p><p>Обратите внимание, в дальнейшем я не буду писать полный код файла приложения. Базовый код остаётся тот же самый, т.е. в начале файла импорты и создание экземпляра приложения:</p><p><code>from flask import Flask</code></p><p><code>app = Flask(__name__)</code></p><p>и в конце файла запуск приложения:</p><p><code>if __name__ == '__main__':</code></p><p><code>&nbsp;&nbsp;&nbsp;&nbsp;app.run(debug=True)</code></p><p>я буду приводить только изменённый код маршрутов и другой python&nbsp;код.</p><p>&nbsp;</p><p>Измените код функции-обработчика маршрута главной страницы.</p><p><code>@app.route(\"/\")</code></p><p><code>def index():</code></p><p><code>&nbsp; &nbsp; return \"\"\"</code></p><p><code>&nbsp; &nbsp; &lt;h1&gt;Главная страница&lt;/h1&gt;</code></p><p><code>&nbsp; &nbsp; &lt;a href=\"/hello\"&gt;Перейти к приветствию&lt;/a&gt;</code></p><p><code>&nbsp; &nbsp; \"\"\"</code></p><p>&nbsp;</p><p>Напишите код функции-обработчика маршрута второй страницы.</p><p><code>@app.route(\"/hello\")</code></p><p><code>def hello():</code></p><p><code>&nbsp; &nbsp; return \"\"\"</code></p><p><code>&nbsp; &nbsp; &lt;h1&gt;Привет, Flask!&lt;/h1&gt;</code></p><p><code>&nbsp; &nbsp; &lt;a href=\"/\"&gt;Назад&lt;/a&gt;</code></p><p><code>&nbsp; &nbsp; \"\"\"</code></p><p>Обратите внимание: в коде обоих страниц есть гиперссылки для перехода между этими страницами.&nbsp;</p><p>&nbsp;</p><p>Запустите на выполнение файл app.py.</p><p>(А если сервер уже/ещё запущен, он автоматически отслеживает изменения в файлах, можно просто обновить страницу).</p><p>&nbsp;</p><p>Протестируйте работу приложения, в т.ч. переход между страницами. Обратите внимание на то, что написано в адресной строке.</p><p>&nbsp;</p><p>Таким образом мы создали первое работающее web-приложение на Python-фреймворке Flask.</p><p>&nbsp;</p><p>Конечно, html-код страниц приложения явно будет большой, поэтому возвращать его в функции return в виде html-кода неправильно. Так мы написали только для демонстрации.&nbsp;</p><p>В реальных проектах:</p><p>- HTML хранится в отдельных файлах;</p><p>- используется шаблонизатор Jinja2;</p><p>- Python-код отвечает за логику, а HTML — за отображение.</p><p>Этому будет посвящено следующее занятие.</p><p>Шаблонизатор - это такая программа, которая получает на вход:&nbsp;</p><p>1: шаблон web-страницы с html-кодом, но без полезных, отображаемых данных, и -&nbsp;</p><p>2: сами данные для отображения на web-странице из python-приложения, которые, в свою очередь, получены из базы данных или какого-то API, и как-то обработаны.</p><p>Шаблонизатор соединяет html-код и данные (вставляет данные в нужные места html-кода) в соответствии с макетом web-страницы.</p><p>&nbsp;</p><h4>7. Преимущества и ограничения Flask</h4><p>Преимущества:</p><p>- Простота и низкий порог входа</p><p>- Гибкость архитектуры</p><p>- Большое сообщество</p><p>- Подходит для обучения и прототипирования</p><p>Ограничения:</p><p>- Минимальный функционал «из коробки»</p><p>- Требует осознанного проектирования структуры</p><p>- Не является асинхронным ASGI-фреймворком по умолчанию (в отличие от FastAPI).</p><p>Flask идеально подходит для небольших и средних проектов, а также для обучения основам веб-разработки.</p><p>&nbsp;</p>"
            },
            "is_published": true
        },
        {
            "id": 2,
            "section_id": 1,
            "number": 2,
            "name": "Создание web-страниц. Подключение CSS",
            "slug": "creating-web-pages--including-css",
            "content": {
                "tasks": [
                    {
                        "id": 1,
                        "content": "<p class=\"MsoNormal\">Создайте третью страницу contacts.html, добавьте подходящий <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>, добавьте для неё маршрут во Flask-приложении и пункт меню в base.html. Протестируйте приложение, убедитесь, что все гиперссылки / переходы работают.</p>"
                    },
                    {
                        "id": 2,
                        "content": "<p><span style=\"color:black;font-family:;\" times=\"\" new=\"\" roman\",\"serif\";font-size:14.0pt;line-height:115%;mso-ansi-language:ru;mso-bidi-language:ar-sa;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:calibri;mso-fareast-language:en-us;mso-fareast-theme-font:minor-latin;mso-themecolor:text1;\"=\"\">Стилизуйте меню так, чтобы пункты меню выглядели в виде нажимаемых кнопок и располагались вверху страницы горизонтально.</span></p><p><span style=\"color:black;font-family:;\" times=\"\" new=\"\" roman\",\"serif\";font-size:14.0pt;line-height:115%;mso-ansi-language:ru;mso-bidi-language:ar-sa;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:calibri;mso-fareast-language:en-us;mso-fareast-theme-font:minor-latin;mso-themecolor:text1;\"=\"\">(Если вы не знакомы с CSS задача будет сложной. Тем интересней взяться за её выполнение. Можно воспользоваться ИИ кодогенерацией)</span></p>"
                    }
                ],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "Хранение CSS, JS и изображений",
                            "Хранение HTML-шаблонов страниц ",
                            "Хранение Python-модулей",
                            "Хранение текстового контента"
                        ],
                        "question": "Какое назначение папки templates в Flask-приложении?",
                        "correct_index": 1
                    },
                    {
                        "id": 2,
                        "options": [
                            "Для рендеринга HTML-шаблонов и отправки их клиенту ",
                            "Для обработки CSS-файлов",
                            "Для отправки HTML-кода в браузер без шаблонов",
                            "Для обработки маршрутов"
                        ],
                        "question": "Для чего используется функция render_template() во Flask?",
                        "correct_index": 0
                    },
                    {
                        "id": 3,
                        "options": [
                            "templates ",
                            "static",
                            "content",
                            "html"
                        ],
                        "question": "В какой папке Flask по умолчанию ищет HTML-шаблоны?",
                        "correct_index": 0
                    },
                    {
                        "id": 4,
                        "options": [
                            "Flask Templates",
                            "Mako",
                            "Ninja2",
                            "Jinja2 "
                        ],
                        "question": "Какой шаблонизатор используется во Flask по умолчанию?",
                        "correct_index": 3
                    },
                    {
                        "id": 5,
                        "options": [
                            "index.html",
                            "layout.html",
                            "main.html",
                            "base.html "
                        ],
                        "question": "Какой файл используется в качестве базового шаблона для всех страниц?",
                        "correct_index": 3
                    },
                    {
                        "id": 6,
                        "options": [
                            "{{ block name }}",
                            "{% block name %} ... {% endblock %} ",
                            "<block name> … </block name>",
                            "<!-- block name --> "
                        ],
                        "question": "Какой синтаксис используется в Jinja2 для определения блоков?",
                        "correct_index": 1
                    },
                    {
                        "id": 7,
                        "options": [
                            "Копирует HTML-код из base.html",
                            "Подключает CSS из base.html",
                            "Указывает, что шаблон наследуется от base.html ",
                            "Расширяет маршрут страницы"
                        ],
                        "question": "Что делает директива {% extends 'base.html' %} в шаблоне страницы?",
                        "correct_index": 2
                    },
                    {
                        "id": 8,
                        "options": [
                            "В папке templates",
                            "В папке content",
                            "В папке static ",
                            "В папке css"
                        ],
                        "question": "Где должны располагаться CSS-файлы во Flask-приложении?",
                        "correct_index": 2
                    },
                    {
                        "id": 9,
                        "options": [
                            "<link rel=\"stylesheet\" href=\"/static/style.css\"> ",
                            "<link rel=\"stylesheet\" href=\"{{ style.css }}\"> ",
                            "<link rel=\"stylesheet\" href=\"static/style.css\"> ",
                            "<link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"> "
                        ],
                        "question": "Как правильно подключить CSS-файл в шаблоне Flask?",
                        "correct_index": 3
                    },
                    {
                        "id": 10,
                        "options": [
                            "В браузере пользователя",
                            "В JavaScript-коде",
                            "На сервере Flask ",
                            "Где получится"
                        ],
                        "question": "Где происходит сборка HTML-страницы при использовании шаблонов Flask?",
                        "correct_index": 2
                    }
                ],
                "theory_html": "<h4>1. Использование шаблонов web-страниц.</h4><p class=\"MsoNormal\">В реальном приложении нам нужно выводить в браузер не простой текст, а готовые <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страницы (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-файлы), в соответствии с содержимым и структурой нашего сайта. Для этого используется механизм создания и рендеринга шаблонов. Но сначала создадим правильную структуру папок нашего проекта.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">1. В папке проекта создайте ещё три папки '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span>', '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">static</span>', '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">content</span>'. Запускающий файл приложения <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span><span lang=\"EN-US\"> </span>уже есть.</p><p class=\"MsoNormal\">В папке '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span>' будут находится шаблоны <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-страниц, т.е. файлы с необходимой <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-разметкой но без информации. В папке '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">content</span>' будет находится добавляемая на страницы информация. Она может быть в разных форматах, наиболее простой - обычные .<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">txt</span>-файлы (но об этом позже).</p><p class=\"MsoNormal\">Т.е. итоговая, выводимая в браузер <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страница будет представлять собой соединение <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-разметки (структуры, шаблона) и полезной (сменяемой) информации (контента). Т.е. на основе одной и той-же разметки можно сформировать много различных страниц с разной информацией. В папке '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">static</span>' будут находиться изображения, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">css</span>-файлы, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">js</span>-файлы, и т.п. внешние ресурсы.</p><p class=\"MsoNormal\">Т.е. папка любого приложения <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Flask</span> будет выглядеть обязательно так:</p><p class=\"MsoNormal\"><span style=\"mso-fareast-language:RU;mso-no-proof:yes;\"><v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"><v:stroke joinstyle=\"miter\"><v:formulas><v:f eqn=\"if lineDrawn pixelLineWidth 0\"><v:f eqn=\"sum @0 1 0\"><v:f eqn=\"sum 0 0 @1\"><v:f eqn=\"prod @2 1 2\"><v:f eqn=\"prod @3 21600 pixelWidth\"><v:f eqn=\"prod @3 21600 pixelHeight\"><v:f eqn=\"sum @0 0 1\"><v:f eqn=\"prod @6 1 2\"><v:f eqn=\"prod @7 21600 pixelWidth\"><v:f eqn=\"sum @8 21600 0\"><v:f eqn=\"prod @7 21600 pixelHeight\"><v:f eqn=\"sum @10 21600 0\"></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:f></v:formulas><v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"><o:lock v:ext=\"edit\" aspectratio=\"t\"></o:lock></v:path></v:stroke></v:shapetype><v:shape style=\"height:132.75pt;mso-wrap-style:square;visibility:visible;width:119.25pt;\" id=\"Рисунок_x0020_1\" o:spid=\"_x0000_i1025\" type=\"#_x0000_t75\"><v:imagedata src=\"file:///C:\\Temp\\msohtmlclip1\\01\\clip_image001.png\" o:title=\"\"></v:imagedata></v:shape></span></p><p class=\"MsoNormal\"><span style=\"mso-spacerun:yes;\">&nbsp;</span></p><p class=\"MsoNormal\">2. Зайдите в папку '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span>'. Здесь будут <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-шаблоны страниц, например: <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span lang=\"EN-US\"> </span>(главная, домашняя), <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">about</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">login</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">contacts</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span> и другие, в зависимости от сути сайта. Для начала сделаем две <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-страницы и запустим их.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">3. В папке <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span><span lang=\"EN-US\"> </span>создайте файл <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span lang=\"EN-US\"> </span>со следующим <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-кодом:</p><pre><code class=\"language-plaintext\">&lt;!DOCTYPE html&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;html&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;head&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;title&gt;Main page&lt;/title&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n &nbsp;&nbsp; &lt;h1&gt;Главная страница&lt;/h1&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">4. Также создайте файл <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">about</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span lang=\"EN-US\"> </span>со следующим кодом:</p><pre><code class=\"language-plaintext\">&lt;!DOCTYPE html&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;html&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;head&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;title&gt;About&lt;/title&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n &nbsp;&nbsp; &lt;h1&gt;О приложении&lt;/h1&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">5. Основной файл приложения <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span> измените следующим образом:</p><pre><code class=\"language-plaintext\">from flask import Flask, render_template<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\napp = Flask(__name__)<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p><o:p></o:p></span>\r\n@app.route(\"/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef index():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return render_template(\"index.html\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n@app.route(\"/about/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef about():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return render_template(\"about.html\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\nif __name__ == \"__main__\":<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; app.run(debug=True)<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">Пояснения к коду:</p><p class=\"MsoNormal\">Обратите внимания: в строку импорта мы добавили подключение класса 'render_template', который обеспечивает запрос <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-страницы и отправку её в браузер для визуализации.</p><p class=\"MsoNormal\">Функцию для рендеринга домашней страницы <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span lang=\"EN-US\"> </span>мы назвали index(), которая вызывает функцию render_template(), которая параметром принимает имя файла рендеруемой <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-страницы index.html. Файл этой страницы <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Flask</span> ищет, по умолчанию, в папке '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span>' .</p><p class=\"MsoNormal\">Аналогичный код прописан для страницы '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">about</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>' .</p><p class=\"MsoNormal\">Обратите внимание, что маршруты страниц нужно писать со слэшем в конце маршрута:&nbsp;</p><p class=\"MsoNormal\"><code>@app.route(\"/about/\")</code></p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Перед запуском приложения обратите внимание, что, если вы закрывали окно терминала или закрывали <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">VS</span><span lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Code</span>, то нужно заново активировать виртуальное окружение (для <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">windows</span>: venv\\Scripts\\activate). Чтобы каждый раз не искать эту строку в лекциях, или запомните или запишите в текстовый файл.</p><p class=\"MsoNormal\">(можно настроить авто активацию <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">venv</span> в <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">VS</span><span lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Code</span>, но в этом вопросе разберитесь самостоятельно).</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">6. Запустите приложение, обновите браузер и убедитесь, что всё работает. Т.е. по адресу 127.0.0.1:5000 открывается главная (домашняя) страница <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>, а по адресу 127.0.0.1:5000/about открывается страница 'О приложении' .</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Чтобы запомнить о необходимости слэша в конце маршрута (/<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">about</span>/) - попробуйте убрать конечный слэш и обновить страницу.</p><p class=\"MsoNormal\">Разница между /about и /about/ связана с тем, как Flask (и веб-серверы в целом) трактуют URL и маршруты.</p><p class=\"MsoNormal\">Но об этом, пока, думать не надо.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Однако вышеприведённый пример специально упрощён. Реальные <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страницы имеют гораздо более сложную структуру <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-кода, с подключением <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">CSS</span>, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">JS</span>, изображений и других ресурсов, переход по страницам (маршрутам) осуществляется не через адресную строку, а через меню гиперссылок. поэтому разберём более практическую технологию.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>2. Использование базового<span style=\"mso-spacerun:yes;\">&nbsp; </span>шаблона.</h4><p class=\"MsoNormal\">Обычно, все <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страницы имеют повторяющиеся части <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Header</span>, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Menu</span>, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Footer</span> и другое. Также все страницы имеют одинаковое подключение <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">CSS</span>, <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">JS</span><span lang=\"EN-US\"> </span>файлов и т.п. Имеет смысл вынести эти повторяющиеся части в отдельный файл, а в конкретные <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-страницы его подключать. Здесь есть ещё один плюс, если, например, мы захотим изменить/добавить/убрать, например, пункт меню, мы это сможем сделать в одном файле, и это изменение повторится в остальных <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-файлах.</p><p class=\"MsoNormal\">Эта базовая, общая, повторяющаяся разметка содержится в файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span> (обязательно такое имя). На основе этого базового шаблона наследуются остальные страницы. Сама технология шаблонизации обеспечивается специальной библиотекой - шаблонизатором. В <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Python</span><span lang=\"EN-US\"> </span>и <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Flask</span><span lang=\"EN-US\"> </span>используется шаблонизатор Jinja2 (произносится дзиндзя). Ниже мы увидим как работает этот шаблонизатор и методика шаблонизации.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">1. В папке '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span>' создайте файл '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>' со следующим содержимым:</p><p class=\"MsoNormal\">(базовый код вы можете добавить в <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">VS</span><span lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Code</span> через восклицательный знак)</p><pre><code class=\"language-plaintext\">&lt;!DOCTYPE html&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;html lang=\"ru\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;head&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;meta charset=\"UTF-8\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;title&gt;{% block title %}{% endblock %}&lt;/title&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;/head&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;body&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;nav class=\"menu\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;h2&gt;Меню&lt;/h2&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;a href=\"{{ url_for('index') }}\"&gt;На Главную&lt;/a&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;a href=\"{{ url_for('about') }}\"&gt;О приложении&lt;/a&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/nav&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;header class=\"header\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;h2&gt;Хэдер&lt;/h2&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/header&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;main class=\"content\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% block content %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% endblock %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/main&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;footer class=\"footer\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;h2&gt;Футер&lt;/h2&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/footer&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;/body&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;/html&gt;</code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Пояснения к коду:</p><p class=\"MsoNormal\">Данный файл содержит базовый <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-код повторяющийся на всех страницах приложения. В нашем случае это раздел с метаинформацией <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">head</span>, а также разделы Навигация (Меню), Хэдер, Футер.</p><p class=\"MsoNormal\">Согласно синтаксису Jinja2 гиперссылки на другие ресурсы или страницы приложения пишутся через конструкцию url_for() в двойных фигурных скобках в виде:</p><p class=\"a\"><code>&lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">a</span><span lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">href</span>=\"{{ <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">url</span>_<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">for</span>('Имя_маршрута') }}\"&gt;Текст_гиперссылки&lt;/<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">a</span>&gt;</code></p><p class=\"MsoNormal\">Синтаксическая конструкция url_for() позволяет менять маршруты в app.py, не трогая HTML-шаблоны и обеспечивает правильную обработку <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span>-адресов. Это единственно правильный способ работы со ссылками во Flask.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">На месте изменяемого содержимого (блок <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">main</span>) делается специальная вставка:</p><p class=\"a\"><code>{% <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">block</span><span lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">content</span> %}</code></p><p class=\"a\"><code>{% <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">endblock</span> %}</code></p><p class=\"MsoNormal\">вместо которой, вставляется содержимое (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-код) соответствующих <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страниц.</p><p class=\"MsoNormal\">Также изменяемой частью на <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страницах является раздел &lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">title</span>&gt; на месте которого тоже вставляется специальный блок :</p><p class=\"a\"><code>{% block title %}{% endblock %}</code></p><p class=\"MsoNormal\">Такой необычный синтаксис {% ... %} - является специальным синтаксисом шаблонизатора Jinja2.</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">2. Файл </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">index</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\"> измените следующим образом:<o:p></o:p></span></p><pre><code class=\"language-plaintext\">{% extends 'base.html' %}<span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span>\r\n\r\n{% block title %}Главная{% endblock %}<span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% block content %}<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span>\r\n  &lt;h1&gt;Главная страница&lt;/h1&gt;<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span>\r\n{% endblock %}<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Здесь мы сообщаем шаблонизатору, что страница </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">index</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\"> формируется на основе базового шаблона 'base.html'. (</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">extends</span><span style=\"color:black;mso-themecolor:text1;\"> - расширяет). Вместо блока с именем 'title' вставляется содержимое: \"Главная\", а вместо</span><span style=\"color:black;mso-spacerun:yes;mso-themecolor:text1;\">&nbsp; </span><span style=\"color:black;mso-themecolor:text1;\">блока 'content' - содержимое \"&lt;h1&gt;Главная страница&lt;/h1&gt;\", т.е. </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">HTML</span><span style=\"color:black;mso-themecolor:text1;\">-код данной страницы.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">3. Файл </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">about</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\"> измените следующим образом:<o:p></o:p></span></p><pre><code class=\"language-plaintext\">{% extends 'base.html' %}\r\n<span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% block title %}О приложении{% endblock %}<span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% block content %}<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span>\r\n  &lt;h1&gt;Страница \"О приложении\"&lt;/h1&gt;<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span>\r\n{% endblock %}<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Т.е. любая страница приложения собирается из двух частей: повторяющейся (неизменяемой) части берущейся из базового шаблона </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">base</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\">, и специфичной (изменяемой) части берущейся из файла данной страницы.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Причём собирается страница на сервере, и в браузер клиента уходит уже готовая собранная страница.<o:p></o:p></span></p><p class=\"MsoNormal\"><i style=\"mso-bidi-font-style:normal;\"><span style=\"color:black;font-size:12.0pt;line-height:115%;mso-themecolor:text1;\">Есть другой подход, когда страница собирается в браузере клиента с помощью </span><span style=\"color:black;font-size:12.0pt;line-height:115%;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">JavaScript</span><span style=\"color:black;font-size:12.0pt;line-height:115%;mso-themecolor:text1;\">.<o:p></o:p></span></i></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">4. Запустите сервер, откройте приложение, походите по меню. Проследите как всё работает. Обратите внимание на изменение адреса в адресной строке, и изменение титульника страницы на вкладке.<o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Задание.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Самостоятельно создайте третью </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">web</span><span style=\"color:black;mso-themecolor:text1;\">-страницу \"Контакты\" (</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">contacts</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\">), с содержимым аналогичным другим страницам, в основном файле создайте соответствующий маршрут, в базовом шаблоне измените соответствующим образом меню. Запустите и протестируйте.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Примечание: если в процессе разработки, из за ошибок в коде, у вас останавливается (падает) сервер (вы это увидите в терминале - ошибки) - нужно исправить ошибки и перезапустить приложение.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Задание.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Обычно меню делают в виде списка &lt;</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">ul</span><span style=\"color:black;mso-themecolor:text1;\">&gt;, а гиперссылки вставляют внутри пунктов списка &lt;</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">li</span><span style=\"color:black;mso-themecolor:text1;\">&gt;.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Сделайте это самостоятельно.</span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><h4>3. Подключение CSS.</h4><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Понятно, что не бывает сайтов без </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\">. </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\">, с точки зрения фреймворка </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Flask</span><span style=\"color:black;mso-themecolor:text1;\">, является статическим ресурсом (также как, например, файлы изображений) и поэтому должен (обязательно) располагаться в папке '</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">static</span><span style=\"color:black;mso-themecolor:text1;\">' в папке приложения.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">В </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">VS</span><span style=\"color:black;mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Code</span><span style=\"color:black;mso-themecolor:text1;\"> откройте папку '</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">static</span><span style=\"color:black;mso-themecolor:text1;\">' и создайте там файл '</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">style</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">css</span><span style=\"color:black;mso-themecolor:text1;\">' .<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">В базовом шаблоне сайта подключите </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">css</span><span style=\"color:black;mso-themecolor:text1;\">-файл следующим образом:<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">В файле </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">base</span><span style=\"color:black;mso-themecolor:text1;\">.</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\">, в конце разделе &lt;</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">head</span><span style=\"color:black;mso-themecolor:text1;\">&gt; напишите следующий код:<o:p></o:p></span></p><p class=\"a\"><code><span style=\"color:black;line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;mso-themecolor:text1;\" lang=\"EN-US\">&lt;link rel=\"stylesheet\" href=\"{{ url_for('static', filename='style.css') }}\"&gt;</span></code><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">В </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">css</span><span style=\"color:black;mso-themecolor:text1;\">-файле напишите что ни будь простое, чтобы проверить работу </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\">, например, измените цвет фона страницы:<o:p></o:p></span></p><p><code>body {<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></code></p><p><code>&nbsp; background-color: red;<span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></code></p><p><code>}</code><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Обновите страницу и убедитесь, что </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\"> подключился.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Задание.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">С помощью </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\"> уберите в пунктах меню маркеры, а в текстах ссылок нижние подчёркивания.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Пояснение:<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Задачей данного курса является изучение фреймворка </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Flask</span><span style=\"color:black;mso-themecolor:text1;\">, а не языка стилей </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\">. Если вы не владеете </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\"> в достаточной степени, чтобы выполнять задания связанные с визуальной стилизацией, вы можете пользоваться кодогенерацией с помощью инструментов ИИ.<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\">Например, можно сделать так: открыть страницу в браузере -&gt; нажать </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">F</span><span style=\"color:black;mso-themecolor:text1;\">12 и перейти в инструменты разработчика -&gt; перейти на вкладку '</span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">elements</span><span style=\"color:black;mso-themecolor:text1;\">' -&gt; на элементе </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">body</span><span style=\"color:black;mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"color:black;mso-themecolor:text1;\">нажать правую кнопку мыши -&gt; </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">copy</span><span style=\"color:black;mso-themecolor:text1;\"> -&gt; </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Copy</span><span style=\"color:black;mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">element</span><span style=\"color:black;mso-themecolor:text1;\">. Скопированный </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">html</span><span style=\"color:black;mso-themecolor:text1;\">-код вставьте в ИИ и попросите сгенерировать подходящий </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\">, либо тот </span><span style=\"color:black;mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">CSS</span><span style=\"color:black;mso-themecolor:text1;\">, который требуется по заданию.</span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"color:black;mso-themecolor:text1;\"><o:p></o:p></span></p>"
            },
            "is_published": true
        },
        {
            "id": 8,
            "section_id": 1,
            "number": 5,
            "name": "Обработка форм",
            "slug": "forms",
            "content": {
                "tasks": [],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "PUT",
                            "DELETE",
                            "GET",
                            "POST"
                        ],
                        "question": "Какой HTTP-метод обычно используется для отправки данных формы на сервер во Flask?",
                        "correct_index": 3
                    },
                    {
                        "id": 2,
                        "options": [
                            "recieve",
                            "response",
                            "get",
                            "request"
                        ],
                        "question": "Какой объект Flask используется для получения данных, отправленных из HTML-формы?",
                        "correct_index": 0
                    },
                    {
                        "id": 3,
                        "options": [
                            "request.post",
                            "request.data",
                            "request.form ",
                            "request.cookies"
                        ],
                        "question": "Где во Flask хранятся данные, отправленные из формы методом POST?",
                        "correct_index": 2
                    },
                    {
                        "id": 4,
                        "options": [
                            "Для подключения базы данных",
                            "Для работы flash-сообщений и сессий ",
                            "Для обработки GET-запросов",
                            "Для рендеринга шаблонов"
                        ],
                        "question": "Зачем в приложении Flask необходимо задавать SECRET_KEY?",
                        "correct_index": 1
                    },
                    {
                        "id": 5,
                        "options": [
                            "message()",
                            "notify()",
                            "alert()",
                            "flash() "
                        ],
                        "question": "Какая функция Flask используется для создания мгновенного сообщения пользователю?",
                        "correct_index": 3
                    },
                    {
                        "id": 6,
                        "options": [
                            "show_flash()",
                            "flash_messages() ",
                            "get_flashed_messages() ",
                            "render_flash()"
                        ],
                        "question": "Какая функция используется в шаблоне для вывода flash-сообщений?",
                        "correct_index": 2
                    },
                    {
                        "id": 7,
                        "options": [
                            "Сообщение не будет отображаться",
                            "Flask автоматически сгенерирует ключ",
                            "Сообщение отобразится несколько раз",
                            "Возникнет ошибка RuntimeError "
                        ],
                        "question": "Что произойдёт, если использовать flash(), но не задать SECRET_KEY?",
                        "correct_index": 3
                    },
                    {
                        "id": 8,
                        "options": [
                            "name",
                            "id",
                            "class",
                            "value"
                        ],
                        "question": "Какой атрибут HTML-элемента <input> используется для передачи данных в request.form?",
                        "correct_index": 0
                    },
                    {
                        "id": 9,
                        "options": [
                            "Для задания HTTP-метода",
                            "Для сортировки сообщений по категории",
                            "Для стилизации и группировки сообщений ",
                            "Для хранения сообщений в базе данных"
                        ],
                        "question": "Для чего используется параметр category в функции flash()?",
                        "correct_index": 2
                    },
                    {
                        "id": 10,
                        "options": [
                            "True ",
                            "with_categories=True ",
                            "categories=True",
                            "use_categories=True"
                        ],
                        "question": "Какой параметр нужно передать в get_flashed_messages(), чтобы получить категории сообщений?",
                        "correct_index": 1
                    }
                ],
                "theory_html": "                    <h4>Пример обработки формы.</h4><p class=\"MsoNormal\">Рассмотрим простейший пример обработки формы авторизации. Базы данных для хранения учетных записей у нас пока нет, поэтому в приведенном ниже коде мы пропустим всю функциональность для проверки корректности логина и пароля.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">1. В каталоге <code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">templates</span></code><span lang=\"EN-US\"> </span>создайте страницу <code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">login</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span></code> в которой будет <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-код формы.</p><pre><code class=\"language-jinja2\">{% extends 'base.html' %}\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p><o:p> </o:p></span>\r\n{% block content %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;h1&gt;Вход на сайт&lt;/h1&gt;\r\n&lt;div&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;form action=\"{{ url_for('login') }}\" method=\"post\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;label for=\"username\"&gt;Логин:&lt;/label&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;input type=\"text\" id=\"username\" name=\"username\" required&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;/p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;label for=\"password\"&gt;Пароль:&lt;/label&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;input type=\"password\" id=\"password\" name=\"password\" required&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;/p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;button type=\"submit\"&gt;Войти&lt;/button&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;/form&gt;\r\n&lt;/div&gt;\r\n{% endblock %}</code></pre><p class=\"MsoNormal\">Пояснения к коду:</p><p class=\"MsoNormal\">В форме, в атрибуте <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">action</span>, указываем обработчик введённых данных, который, обычно, совпадает с обработчиком соответствующего маршрута.</p><p class=\"MsoNormal\">Также указываем <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">http</span>-метод передачи данных из формы (из браузера) в обработчик (на сервер) (о <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">http</span>-методах позже). Далее описываем необходимые поля формы (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">input</span>-ы) соответствующих типов, и необходимые метки полей (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">label</span>-ы). Для полей указываем атрибуты <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">name</span> по которым мы будем получать данные в обработчике. (для будущей <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">css</span>-стилизации элементов необходимо также указывать атрибут <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">class</span>). В конце пишем кнопку отправки, обязательно с <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">type</span>-ом '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">submit</span>'. Именно при нажатии кнопки происходит соответствующий <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">http</span>-запрос от клиента к серверу и данные формы уходят в обработчик.<span style=\"mso-spacerun:yes;\">&nbsp;</span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">2. Для обработки форм необходимо добавить компонент фреймворка <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Flask</span> по имени request (запрос).</p><p class=\"MsoNormal\">В файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span>, в первой строке импортов, добавьте импорт <code>request</code>:</p><p class=\"a\"><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\">from flask import Flask, render_template, request</span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">3. Создайте маршрут на страницу с формой login.html :</p><pre><code class=\"language-python\">@app.route('/login/', methods=['GET', 'POST'])<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef login():<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;if request.method == 'POST':<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;username = request.form.get('username')<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;password = request.form.get('password')<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;# здесь должна быть проверка логина и пароля<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;return username + ' - Вы вошли в систему!'<span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\"><o:p></o:p></span>\r\n &nbsp;else:<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;return render_template('login.html', title=\"Авторизация\")<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Пояснения к коду:</p><p class=\"MsoNormal\">Маршрут</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Courier New&quot;;\"><code>@<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">route</span>('/<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">login</span>/', <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">methods</span>=['<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">GET</span>', '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">POST</span>'])</code></span></p><p class=\"MsoNormal\">обрабатывает и POST, и GET-запросы: в первом случае он отправит данные на сервер, во втором – просто выведет страницу с формой авторизации. В обработчике мы просто делаем request-ы (запросы) к форме, точнее к её полям с именами '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">username</span>' и '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">password</span>', получаем соответствующие данные и присваиваем их в переменные. Ну и далее мы что то делаем с этими данными (как то их обрабатываем, записываем в базу данных, куда то передаём и т.д.). В нашем простейшем случае, мы просто выводим содержимое поля 'username' на страницу.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">4. В базовом шаблоне <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>, в разделе меню добавьте маршрут на страницу <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">login</span></p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">&lt;li&gt;&lt;a href=\"{{ url_for('login') }}\"&gt;</span><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\">Логин</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">&lt;/a&gt;&lt;/li&gt;</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">5. Запустите приложение, откройте страницу <span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\">Логин</span>.</p><p class=\"MsoNormal\">Введите произвольные данные и нажмите \"войти\".</p><p class=\"MsoNormal\">Понятно, что без базы данных хранящей логины и пароли это бессмысленно, но страница с формой и обработчик формы в приложении работают.</p><p class=\"MsoNormal\"><span style=\"font-size:13.0pt;\"><span style=\"line-height:115%;\"><o:p> </o:p></span></span></p><h4>&nbsp;</h4><h4>2. GET и POST-запросы</h4><p class=\"MsoNormal\"><span style=\"font-size:13.0pt;\"><span style=\"line-height:115%;\">GET и POST – это HTTP-запросы, которые используются для отправки данных между клиентом и сервером.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"font-size:13.0pt;\"><span style=\"line-height:115%;\">GET-запрос применяют для получения данных от сервера. При выполнении GET-запроса клиент отправляет запрос на сервер, а сервер возвращает запрошенную информацию в ответ. GET-запросы могут содержать параметры в URL-адресе, которые используются для передачи дополнительных данных. Например:<o:p></o:p></span></span></p><p class=\"a\"><span style=\"font-size:13.0pt;\"><code><span style=\"line-height:115%;\">/</span><span style=\"line-height:115%;mso-ansi-language:EN-US;\" lang=\"EN-US\">handler</span><span style=\"line-height:115%;\">?</span><span style=\"line-height:115%;mso-ansi-language:EN-US;\" lang=\"EN-US\">name</span><span style=\"line-height:115%;\">=</span><span style=\"line-height:115%;mso-ansi-language:EN-US;\" lang=\"EN-US\">Alex</span><span style=\"line-height:115%;\">&amp;</span><span style=\"line-height:115%;mso-ansi-language:EN-US;\" lang=\"EN-US\">old</span><span style=\"line-height:115%;\">=18&amp;</span><span style=\"line-height:115%;mso-ansi-language:EN-US;\" lang=\"EN-US\">profit</span><span style=\"line-height:115%;\">=1000</span></code><span style=\"line-height:115%;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"font-size:13.0pt;\"><span style=\"line-height:115%;\">POST-запрос используют для отправки данных на сервер. При выполнении POST-запроса клиент отправляет данные на сервер, а сервер их обрабатывает. POST-запросы обычно применяют для отправки форм, с данными из которых нужно что-то сделать на бэкенде.</span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"font-size:13.0pt;\"><span style=\"line-height:115%;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><o:p> </o:p></p><h4>Другой пример формы.</h4><p class=\"MsoNormal\">1. Создайте страницу <code>contact<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">s</span>.html</code> (или измените, если она есть).</p><pre><code class=\"language-jinja2\">{% extends 'base.html' %}\r\n\r\n<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span>\r\n{% block content %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;h1&gt;Страница Контакты&lt;/h1&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n&lt;form action=\"{{ url_for('contacts') }}\" method=\"post\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;label&gt;Имя:<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=\"text\" name=\"username\" value=\"\" required&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;/label&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;/p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;label&gt;Email:  <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=\"text\" name=\"email\" value=\"\" required&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;/label&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;/p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;label&gt;Сообщение: &lt;br&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;textarea name=\"message\" rows=7 cols=40&gt;  &lt;/textarea&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;/label&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;p&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&lt;input type=\"submit\" value=\"Отправить\"&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&lt;/p&gt;\r\n&lt;/form&gt;\r\n{% endblock %}</code></pre><p class=\"a\" style=\"line-height:normal;\"><span style=\"font-size:13.0pt;\"><o:p> </o:p></span></p><p class=\"MsoNormal\">2. Добавьте маршрут на страницу в <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span style=\"mso-spacerun:yes;\">&nbsp; </span>(если не было)</p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">&lt;li&gt;&lt;a href=\"{{ url_for('contacts') }}\"&gt;</span><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\">Контакты</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">&lt;/a&gt;&lt;/li&gt;</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">3. Создайте функцию рендеринга страницы 'Контакты'<span style=\"mso-spacerun:yes;\">&nbsp; </span>(если не было)</p><pre><code class=\"language-jinja2\">@app.route(\"/contacts/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef contacts():<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;return render_template(\"contacts.html\", title=\"Контакты\")<span style=\"color:#CCCCCC;\"><span style=\"mso-ansi-language:EN-US;mso-fareast-language:RU;\" lang=\"EN-US\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">4. Запустите приложение, перейдите на страницу 'Контакты'.</p><p class=\"MsoNormal\">Пока форма не работает, т.к. мы не описали обработчик данных формы, но прежде, познакомимся с новой подтемой в обработке форм.</p><p class=\"MsoNormal\"><o:p> </o:p></p><h4>&nbsp;</h4><h4>Мгновенные<span style=\"mso-ansi-language:EN-US;\"> </span>сообщения<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">: flash, get_flashed_messages<o:p></o:p></span></h4><p class=\"MsoNormal\">В современном Web-программировании считается хорошим стилем отправлять пользователю мгновенные сообщения о результатах взаимодействия с сайтом. Например, при отправке данных формы, пользователю можно написать, что данные отправлены успешно, или, наоборот, что произошла ошибка. Этот функционал встроен во фреймворк Flask и реализуется с помощью двух функций:</p><p class=\"MsoNormal\">flash() – формирование сообщения пользователю;</p><p class=\"MsoNormal\">get_flashed_messages() – обработка сформированных сообщений в шаблоне документа.</p><p class=\"MsoNormal\">Их<span style=\"mso-ansi-language:EN-US;\"> </span>синтаксис<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">, </span>следующий<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">:<o:p></o:p></span></p><pre><code class=\"language-jinja2\">flask.flash(message, category=’message’)<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\nflask.get_flashed_messages(with_categories=False, category_filter=[])<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">message – текст сообщения;</p><p class=\"MsoNormal\">category – категория сообщения;</p><p class=\"MsoNormal\">with_categories – разрешает использование категорий при извлечении сообщений;</p><p class=\"MsoNormal\">category_filter – список разрешенных категорий при выборке сообщений.</p><p class=\"MsoNormal\">Чтобы воспользоваться функцией flash ее нужно импортировать из модуля flask:</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">5. Добавьте в строку импорта файла <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span><span lang=\"EN-US\"> </span>импорт <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">flash</span>:</p><p class=\"a\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">from flask import Flask, render_template, request, flash<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">6. Обработчик маршрута '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">contacts</span>' измените так:</p><pre><code class=\"language-python\">@app.route(\"/contacts/\", methods=[\"POST\", \"GET\"])<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef contacts():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;if request.method == 'POST':<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;if len(request.form.get('username')) &gt; 2:<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flash('Сообщение отправлено')\r\n &nbsp;&nbsp;&nbsp;else:\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flash('Ошибка отправки')\r\n &nbsp;return render_template(\"contacts.html\", title=\"Контакты\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">7. Далее, в шаблоне contact<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">s</span>.html вызовем функцию get_flashed_messages следующим образом :<span style=\"mso-spacerun:yes;\">&nbsp; </span>(перед кодом формы)</p><pre><code class=\"language-python\">{% for msg in get_flashed_messages() %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;div class=\"flash\"&gt;{{msg}}&lt;/div&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% endfor %}</code></pre><p class=\"MsoNormal\"><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">Обратите внимание, функция get_flashed_messages возвращает итератор, содержащий сообщения, то есть, их может быть несколько, если flash в обработчике был вызван несколько раз. Но, в нашем случае, оно будет одно, которое выводится в блоке div.</span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">8. Запустите приложение, перейдите в Контакты, наберите произвольный текст и попытайтесь отправить. Вы<span style=\"mso-ansi-language:EN-US;\"> </span>получите<span style=\"mso-ansi-language:EN-US;\"> </span>ошибку<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">:<o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">RuntimeError: The session is unavailable because no secret key was set. Set the secret_key on the application to something unique and secret</span></code><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\">Переведите её.</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">Дело в том, что функции flash и get_flashed_messages используют механизм сессий, чтобы отображать сообщения только один раз и при обновлении страницы более его не показывать. Чтобы активизировать работу сессий, необходимо в конфигурацию программы прописать секретный ключ.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">9. Добавьте в файл app.py после инициализации приложения Flask</p><p class=\"MsoNormal\">(после строки app = Flask(__name__) )</p><p class=\"MsoNormal\">следующую строку:</p><p class=\"a\"><code><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">app.config['SECRET_KEY'] = 'qwerty'</span></code></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:&quot;Yandex Sans Display Light&quot;,&quot;serif&quot;;font-size:13.5pt;\"><span style=\"line-height:115%;\">Это не самый лучший ключ, в смысле секретности, позже мы еще об этом поговорим, а пока пусть он будет записан в таком виде.</span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;font-family:&quot;Yandex Sans Display Light&quot;,&quot;serif&quot;;font-size:13.5pt;\"><span style=\"line-height:115%;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:&quot;Yandex Sans Display Light&quot;,&quot;serif&quot;;font-size:13.5pt;\"><span style=\"line-height:115%;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">10. Снова введите текст в поле 'Имя' формы и отправьте.</p><p class=\"MsoNormal\">Если вы ввели более 2 символов вы должны увидеть \"Сообщение отправлено\" или \" Ошибка отправки\" в ином случае.</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">Далее, добавим <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">css</span>-оформление этому сообщению, причем разное для разных типов: успешных и ошибочных.</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">11. В файле стилей нашего приложения <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">style</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">css</span> (помните, он находится в папке '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">static</span>' и предполагается, что он подключен в базовом шаблоне) напишите следующее:</p><pre><code class=\"language-css\">.flash {padding: 10px;}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n.flash.success {<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;border: 1px solid #21DB56;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;background: #AEFFC5;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n.flash.error {<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;border: 1px solid #FF4343;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;background: #FF9C9C;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n}</code></pre><p class=\"a\">&nbsp;</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">12. В файле <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span>, в обработчике маршрута '<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">contacts</span>' для функции <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">flash</span>() добавьте указание категории сообщения:</p><pre><code class=\"language-python\"> &nbsp;if request.method == 'POST':<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;if len(request.form['username']) &gt; 2:<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flash('Сообщение отправлено', category='success')<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;else:<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flash('Ошибка отправки', category='error')</code></pre><p class=\"a\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p> </o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">13. </span>В<span style=\"mso-ansi-language:EN-US;\"> </span>шаблоне<span style=\"mso-ansi-language:EN-US;\"> </span>страницы<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"> </span><code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">contacts.html</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"> </span>измените<span style=\"mso-ansi-language:EN-US;\"> </span>обработчик<span style=\"mso-ansi-language:EN-US;\"> </span><code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">get_flashed_messages()</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"> :<o:p></o:p></span></p><pre><code class=\"language-jinja2\">{% for cat, msg in get_flashed_messages(True) %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;div class=\"flash {{cat}}\"&gt;{{msg}}&lt;/div&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% endfor %}</code></pre><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">Здесь параметр True в функции get_flashed_messages разрешает оперировать категориями мгновенных сообщений. Все, теперь при успешной отправке увидим сообщение на зеленом фоне, а при ошибке – на красном.</p><p class=\"MsoNormal\"><o:p> </o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">Задание.</p><p class=\"MsoNormal\">Добавьте в существующую форму HTML-валидацию с помощью атрибутов required, type=\"email\" и minlength, и проверьте их работу в браузере.</p>\r\n                "
            },
            "is_published": true
        },
        {
            "id": 10,
            "section_id": 1,
            "number": 7,
            "name": "cookie и session",
            "slug": "cookie-session",
            "content": {
                "tasks": [
                    {
                        "id": 1,
                        "content": "<p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Создайте</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">маршрут</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> /set_session/, </span><span style=\"mso-themecolor:text1;\">который</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">сохраняет</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">в</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> session </span><span style=\"mso-themecolor:text1;\">имя</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">пользователя</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">и</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">выбранную</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">тему</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">оформления</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> (</span><span style=\"mso-themecolor:text1;\">например</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">, 'light' </span><span style=\"mso-themecolor:text1;\">или</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> 'dark').<o:p></o:p></span></span></p>"
                    },
                    {
                        "id": 2,
                        "content": "<p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Создайте маршрут /get_session/, который выводит все данные из session в виде текста.<o:p></o:p></span></span></p>"
                    },
                    {
                        "id": 3,
                        "content": "<p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Реализуйте маршрут /logout_session/, который удаляет данные о пользователе из session.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Попробуйте перейти на /get_session/ после выхода и убедитесь, что все данные удалены.<o:p></o:p></span></span></p>"
                    },
                    {
                        "id": 4,
                        "content": "<p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Реализуйте маршрут /check_user/, который проверяет: если в session есть ключ username, выводится приветствие пользователя, иначе перенаправление на /set_session/.<o:p></o:p></span></span></p>"
                    }
                ],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "Для безопасного хранения состояния пользователя между HTTP-запросами ",
                            "Для хранения HTML-страниц сайта",
                            "Для шифрования всех пользовательских данных",
                            "Для передачи данных между разными серверами"
                        ],
                        "question": "Для чего чаще всего используется session в Flask?",
                        "correct_index": 0
                    },
                    {
                        "id": 2,
                        "options": [
                            "Session хранится в браузере, а cookie — на сервере",
                            "Cookie хранятся в браузере, а session хранит данные на сервере и использует cookie только для идентификатора ",
                            "Cookie и session полностью идентичны",
                            "Cookie используются только для ошибок 404, а session — для логина"
                        ],
                        "question": "Какая ключевая разница между cookie и session?",
                        "correct_index": 1
                    },
                    {
                        "id": 3,
                        "options": [
                            "Позволяет cookie использоваться только при POST-запросах",
                            "Шифрует содержимое cookie",
                            "Запрещает доступ к cookie из JavaScript, повышая безопасность ",
                            "Позволяет cookie хранить длинные строки"
                        ],
                        "question": "Что делает параметр HttpOnly при установке cookie?",
                        "correct_index": 0
                    },
                    {
                        "id": 4,
                        "options": [
                            "request.cookies('cookie_name')",
                            "request.cookies.get('cookie_name') ",
                            "response.cookies['cookie_name']",
                            "cookies.get('cookie_name')"
                        ],
                        "question": "Как получить значение cookie в Flask?",
                        "correct_index": 1
                    },
                    {
                        "id": 5,
                        "options": [
                            "request.session['username'] = 'Alex'",
                            "response.set_session('username', 'Alex')",
                            "session['username'] = 'Alex' ",
                            "session.set('username', 'Alex')"
                        ],
                        "question": "Как сохранить данные в session в Flask?",
                        "correct_index": 2
                    },
                    {
                        "id": 6,
                        "options": [
                            "session.pop('username', None) или session.clear() ",
                            "del cookie['username']",
                            "response.delete_cookie('username')",
                            "request.cookies.remove('username')"
                        ],
                        "question": "Как удалить данные пользователя из session?",
                        "correct_index": 0
                    }
                ],
                "theory_html": "<h4>Установка и чтение cookie.</h4><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В web-приложениях часто требуется сохранять состояние пользователя между отдельными HTTP-запросами, например информацию о текущей сессии, выбранном языке интерфейса или идентификаторе корзины покупок.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Для этого используется механизм cookie — небольшие фрагменты данных, которые сервер сохраняет в браузере пользователя в виде пар «ключ–значение». Эти данные автоматически отправляются браузером серверу при последующих HTTP-запросах к тому же сайту.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Важно понимать, что cookie не предназначены для хранения чувствительных или объёмных пользовательских данных (таких как логины, пароли или содержимое корзины товаров). В реальных приложениях cookie используются в основном для хранения идентификаторов и служебной информации, а сами данные хранятся на сервере.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В рамках данной лекции мы рассмотрим базовый механизм установки и чтения cookie. Более безопасный и практичный способ работы с пользовательским состоянием с использованием session будет рассмотрен далее в этой лекции.</span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">1. Импорт необходимых компонентов<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Перед работой с cookie необходимо импортировать объект HTTP-запроса request, а также функцию make_response, которая позволяет работать с объектом HTTP-ответа.</span><span style=\"mso-spacerun:yes;mso-themecolor:text1;\">&nbsp;&nbsp;</span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">request - запрос. response - ответ. make - сделай.</span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Добавьте</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">в</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">app.py:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">from flask import request<o:p></o:p></span></code></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">from flask import make_response</span></code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">(помните, что все импорты пишутся в самом начале файла. Можно всё записать в одну строку через запятую)<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">2. Установка cookie<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Для примера установим cookie при заходе пользователя на главную страницу.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">(Поскольку это учебный и временный пример, текущий код обработчика маршрута главной страницы рекомендуется закомментировать.)<o:p></o:p></span></span></p><pre><code class=\"language-python\">@app.route(\"/\")<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\ndef index():<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; response = make_response(render_template(\"index.html\", title=\"Главная\"))<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; response.set_cookie(<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'username',<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'the user name',<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; httponly=True,<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; secure=True,<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; samesite='Lax'<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; )<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; return response<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В данном примере мы устанавливаем cookie с именем 'username' и значением '</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">the</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">user</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">name</span><span style=\"mso-themecolor:text1;\">'.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Обратите внимание, что cookie устанавливаются не напрямую в маршруте, а через объект HTTP-ответа response. Именно поэтому используется функция make_response(), в которую передаётся сформированная страница, а затем к этому объекту добавляется cookie с помощью метода set_cookie().<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Чтобы убедиться, что cookie был установлен, откройте инструменты разработчика браузера (клавиша F12), перейдите на вкладку Application, затем в раздел Cookies и выберите адрес текущего сайта. В таблице вы увидите установленную пару </span><code><span style=\"mso-themecolor:text1;\">Name : Value</span></code><span style=\"mso-themecolor:text1;\">.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">3. Параметры безопасности cookie<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В современных web-приложениях обязательно использовать параметры безопасности cookie:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">HttpOnly — запрещает доступ к cookie из JavaScript, снижая риск XSS-атак.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Secure — cookie передаётся только по HTTPS-соединению.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">SameSite — ограничивает передачу cookie при межсайтовых запросах и защищает от CSRF-атак.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Почему именно ='</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Lax</span><span style=\"mso-themecolor:text1;\">', и какие есть ещё значения у SameSite - разберитесь самостоятельно.</span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Что такое CSRF-атаки - разберитесь самостоятельно.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Использование этих параметров является обязательным стандартом.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">4. Чтение cookie<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Теперь получим установленный cookie.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Для этого создадим отдельный маршрут /get_cookies/, который просто выведет значение cookie:<o:p></o:p></span></span></p><pre><code class=\"language-python\">@app.route('/get_cookies/')<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span>\r\ndef get_cookies():<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; username = request.cookies.get('username')<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; return f'username: {username}'<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Перейдите</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">в</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">браузере</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">по</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\"> </span><span style=\"mso-themecolor:text1;\">адресу</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><code><span style=\"mso-themecolor:text1;\">http://127.0.0.1:5000/get_cookies/</span></code><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Вы увидите значение cookie, считанное из объекта HTTP-запроса request.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Cookie доступны через свойство request.cookies, которое представляет собой словарь.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Задание 1.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Создайте отдельный маршрут /set_cookie/, который устанавливает cookie.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Cookie должны устанавливаться при переходе по адресу:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">http://127.0.0.1:5000/set_cookie/<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Перейдите затем по маршруту /get_cookies/ и убедитесь, что cookie установлены.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Задание 2.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Представьте, что необходимо записать в cookie длинную строку.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Сохраните эту строку в переменную Python и передайте переменную в метод set_cookie().<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Убедитесь, что cookie корректно устанавливаются.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">После выполнения заданий удалите (или закомментируйте) маршрут /get_cookies/ и восстановите исходный код обработчика главной страницы.</span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><h4>Работа с session в Flask</h4><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В современных Flask-приложениях почти всегда используется session вместо прямой работы с cookie для хранения состояния пользователя.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Почему session предпочтительнее:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Cookie в браузере содержат только идентификатор сессии, а все данные хранятся на сервере или защищённо подписываются.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Session автоматически защищает данные с помощью подписи (с использованием SECRET_KEY).<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Проще работать с безопасными и структурированными данными (например, словарями или списками).<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">1. Настройка </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">session</span><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Сначала импортируйте компонент (объект, класс) для работы с сессиями:<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">from</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">flask</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">import</span><span style=\"mso-themecolor:text1;\" lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">session</span></code><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Также, для работы с session необходимо задать секретный ключ приложения:<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Запишите после </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">app</span><span style=\"mso-themecolor:text1;\"> = </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">Flask</span><span style=\"mso-themecolor:text1;\">(__</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">name</span><span style=\"mso-themecolor:text1;\">__) следующий код:<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">app.secret_key = 'your_secret_key_here'</span><span style=\"mso-ansi-language:EN-US;mso-spacerun:yes;mso-themecolor:text1;\" lang=\"EN-US\">&nbsp;</span></code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Внимание! Генерируйте случайный ключ в реальном приложении!<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">secret_key используется Flask для подписи данных сессии и предотвращения подделки cookie.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">2. Установка данных в session<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Для сохранения данных пользователя в session используем объект session как словарь.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Создайте обработчик маршрута </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">login</span><span style=\"mso-themecolor:text1;\"> (или измените)<o:p></o:p></span></span></p><pre><code class=\"language-python\">@app.route(\"/login/\")<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\ndef login():<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; # Сохраняем имя пользователя в session<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; session['username'] = 'Alex'<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; return \"Пользователь Alex вошёл в систему\"<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В этом примере при переходе на маршрут /login/ в session сохраняется ключ 'username' со значением 'Alex'.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">В браузере при этом будет храниться только идентификатор сессии, а данные безопасно подписаны сервером.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">3. Чтение данных из session<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Для получения информации из session используем ключ словаря.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Создайте обработчик нового маршрута<o:p></o:p></span></span></p><pre><code class=\"language-python\">@app.route(\"/profile/\")<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span>\r\ndef profile():<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; username = session.get('username', 'Гость')<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; return f'Пользователь: {username}'<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Если в session нет ключа 'username', возвращается значение по умолчанию 'Гость'.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">4. Удаление данных из session.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Для удаления данных из session можно использовать pop() или clear().<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Создайте обработчик нового маршрута выхода из сессии (в нашем случае из профиля):<o:p></o:p></span></span></p><pre><code class=\"language-python\">@app.route(\"/logout/\")<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\ndef logout():<span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; session.pop('username', None) <span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span>\r\n &nbsp;&nbsp; return \"Пользователь вышел из системы\"<span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Строка кода:<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">session</span><span style=\"mso-themecolor:text1;\">.</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">pop</span><span style=\"mso-themecolor:text1;\">('</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">username</span><span style=\"mso-themecolor:text1;\">', </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">None</span><span style=\"mso-themecolor:text1;\">)</span></code><span style=\"mso-themecolor:text1;\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">удаляет ключ '</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">username</span><span style=\"mso-themecolor:text1;\">', если он существует, а если не существует, возвращает </span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">None</span><span style=\"mso-themecolor:text1;\">.<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Можно удалить все данные сессии:<o:p></o:p></span></span></p><p class=\"a\"><span style=\"color:black;\"><code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">session.clear()</span></code><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"><o:p> </o:p></span></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Преимущества</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> session </span><span style=\"mso-themecolor:text1;\">над</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\"> cookie<o:p></o:p></span></span></p><table class=\"MsoNormalTable\" style=\"border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;mso-border-insideh:.5pt solid windowtext;mso-border-insidev:.5pt solid windowtext;mso-padding-alt:0cm 2.85pt 0cm 2.85pt;mso-yfti-tbllook:1184;\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"><thead><tr style=\"mso-yfti-firstrow:yes;mso-yfti-irow:0;\"><td style=\"border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\" style=\"text-align:center;\">Session</p></td><td style=\"border-left:none;border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\" style=\"text-align:center;\">Прямые cookie</p></td></tr></thead><tbody><tr style=\"mso-yfti-irow:1;\"><td style=\"border-top:none;border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Данные подписаны и защищены</p></td><td style=\"border-bottom:solid windowtext 1.0pt;border-left:none;border-right:solid windowtext 1.0pt;border-top:none;mso-border-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Хранятся в открытом виде в браузере</p></td></tr><tr style=\"mso-yfti-irow:2;\"><td style=\"border-top:none;border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Поддержка структурированных данных (словарь, список)</p></td><td style=\"border-bottom:solid windowtext 1.0pt;border-left:none;border-right:solid windowtext 1.0pt;border-top:none;mso-border-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Можно хранить только строки</p></td></tr><tr style=\"mso-yfti-irow:3;\"><td style=\"border-top:none;border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Удобно для логина, корзины товаров и настроек</p></td><td style=\"border-bottom:solid windowtext 1.0pt;border-left:none;border-right:solid windowtext 1.0pt;border-top:none;mso-border-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Ручное управление и проверка целостности</p></td></tr><tr style=\"mso-yfti-irow:4;mso-yfti-lastrow:yes;\"><td style=\"border-top:none;border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Автоматическая работа с идентификатором сессии</p></td><td style=\"border-bottom:solid windowtext 1.0pt;border-left:none;border-right:solid windowtext 1.0pt;border-top:none;mso-border-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;padding:0cm 2.85pt 0cm 2.85pt;\"><p class=\"a0\">Нужно вручную создавать и проверять cookie</p></td></tr></tbody></table><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\"><o:p> </o:p></span></span></p>"
            },
            "is_published": true
        },
        {
            "id": 6,
            "section_id": 1,
            "number": 3,
            "name": "Передача шаблонам параметров. Автоматическое формирование html-кода",
            "slug": "params--html-generating",
            "content": {
                "tasks": [
                    {
                        "id": 1,
                        "content": "<p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">На основе вложенного списка<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:;\"><span courier=\"\" new\";mso-ansi-language:en-us;mso-themecolor:text1;\"=\"\" lang=\"EN-US\">LISTS</span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\"> = [<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:;\"><span courier=\"\" new\";mso-tab-count:1;mso-themecolor:text1;\"=\"\">&nbsp;&nbsp;&nbsp; </span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">[\"первый\", \"второй\", \"третий\"],<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:;\"><span courier=\"\" new\";mso-tab-count:1;mso-themecolor:text1;\"=\"\">&nbsp;&nbsp;&nbsp; </span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">[\"</span><span courier=\"\" new\";mso-ansi-language:en-us;mso-themecolor:text1;\"=\"\" lang=\"EN-US\">first</span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">\", \"</span><span courier=\"\" new\";mso-ansi-language:en-us;mso-themecolor:text1;\"=\"\" lang=\"EN-US\">second</span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">\"],<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:;\"><span courier=\"\" new\";mso-tab-count:1;mso-themecolor:text1;\"=\"\">&nbsp;&nbsp;&nbsp; </span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">[\"</span><span courier=\"\" new\";mso-ansi-language:en-us;mso-themecolor:text1;\"=\"\" lang=\"EN-US\">one</span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">\", \"</span><span courier=\"\" new\";mso-ansi-language:en-us;mso-themecolor:text1;\"=\"\" lang=\"EN-US\">two</span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">\", \"</span><span courier=\"\" new\";mso-ansi-language:en-us;mso-themecolor:text1;\"=\"\" lang=\"EN-US\">three</span><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">\"]<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;font-family:;\"><span courier=\"\" new\";mso-themecolor:text1;\"=\"\">]<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">Сформируйте двухуровневый список<o:p></o:p></span></span></p><p class=\"MsoNormal\"><span style=\"color:black;\"><span style=\"mso-themecolor:text1;\">на странице '</span><span style=\"mso-ansi-language:EN-US;mso-themecolor:text1;\" lang=\"EN-US\">about</span><span style=\"mso-themecolor:text1;\">', что то типа:</span></span></p><figure class=\"image image_resized\" style=\"width:18.52%;\"><img style=\"aspect-ratio:243/328;\" src=\"https://gvylosdtlepiikialkhn.supabase.co/storage/v1/object/public/lesson-images/0cba5185-520b-4457-bf35-2149565840ff.png\" width=\"243\" height=\"328\"></figure>"
                    },
                    {
                        "id": 2,
                        "content": "<p class=\"MsoNormal\">Добавьте в приложение новую страницу courses.html.</p><p class=\"MsoNormal\">Передайте в шаблон параметр title и выведите корректный заголовок страницы через базовый шаблон.</p><p class=\"MsoNormal\">В маршруте главной страницы передайте параметры username и course.</p><p class=\"MsoNormal\">Выведите на странице приветствие вида:</p><p class=\"MsoNormal\">«Добро пожаловать, username! Вы изучаете курс course.»</p>"
                    },
                    {
                        "id": 3,
                        "content": "<p class=\"MsoNormal\">Создайте страницу profile.html.</p><p class=\"MsoNormal\">Передайте в неё словарь с данными пользователя (имя, возраст, город) и выведите эти данные в виде <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-таблицы.</p><p class=\"MsoNormal\">Добавьте условие в шаблоне:</p><p class=\"MsoNormal\">если список пустой — выведите сообщение</p><p class=\"MsoNormal\">«Данные отсутствуют»,</p><p class=\"MsoNormal\">иначе — выведите список элементов.</p>"
                    },
                    {
                        "id": 4,
                        "content": "<p class=\"MsoNormal\">Создайте словарь меню в app.py, где ключ — имя маршрута, а значение — текст ссылки.</p><p class=\"a\">'маршрут' : 'текст гиперссылки'</p><p class=\"MsoNormal\">Передайте этот словарь параметром во все маршруты.</p><p class=\"MsoNormal\">В базовом шаблоне base.html переберите циклом переданный параметром словарь и сформируйте список гиперссылок в правильном формате, что то типа:</p><p class=\"MsoNormal\"><a href=\"{{url_for('маршрут')}}\"><span style=\"color:hsl(0,0%,0%);font-family:;\"><code><span style=\"line-height:115%;mso-ansi-language:RU;mso-bidi-language:AR-SA;mso-bidi-theme-font:minor-bidi;mso-fareast-font-family:Calibri;mso-fareast-language:EN-US;mso-fareast-theme-font:minor-latin;\" times=\"\" new=\"\" roman\",\"serif\";font-size:14.0pt;\"=\"\">{{'текст гиперссылки'}}</span></code></span></a></p><p class=\"MsoNormal\">&nbsp;</p>"
                    }
                ],
                "tests": [
                    {
                        "id": 1,
                        "options": [
                            "{% title %}",
                            "{{ title }} ",
                            "<title> ",
                            "[[ title ]]"
                        ],
                        "question": "Какой синтаксис используется в шаблонах Jinja2 для вывода переданного параметра?",
                        "correct_index": 1
                    },
                    {
                        "id": 2,
                        "options": [
                            "Через глобальные переменные Python",
                            "Через HTML-комментарии",
                            "Через словари Python",
                            "Через аргументы функции render_template() "
                        ],
                        "question": "Каким способом данные передаются из Flask-приложения в шаблон?",
                        "correct_index": 3
                    },
                    {
                        "id": 3,
                        "options": [
                            "{% if %}",
                            "{% while %}",
                            "{% for %} ",
                            "{% loop %}"
                        ],
                        "question": "Какой управляющей конструкцией Jinja2 используется для перебора списка?",
                        "correct_index": 2
                    },
                    {
                        "id": 4,
                        "options": [
                            "dict.key",
                            "dict->key",
                            "dict[key] ",
                            "dict(key)"
                        ],
                        "question": "Как в шаблоне Jinja2 получить доступ к элементам словаря, переданного из Flask?",
                        "correct_index": 2
                    },
                    {
                        "id": 5,
                        "options": [
                            "Для ускорения загрузки страниц",
                            "Для автоматического создания HTML-кода",
                            "Для корректного формирования URL по имени функции маршрута ",
                            "Для подключения внешних библиотек"
                        ],
                        "question": "Для чего рекомендуется использовать функцию url_for() при формировании ссылок?",
                        "correct_index": 2
                    }
                ],
                "theory_html": "<h4>1. Передача шаблонам параметров.</h4><p class=\"MsoNormal\">Мы можем использовать всю мощь языка <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Python</span><span lang=\"EN-US\"> </span>для динамического формирования содержимого <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страниц.</p><p class=\"MsoNormal\"><i>Напомним, что обычные <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страницы написанные на языке <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span> являются статичными, неизменяемыми, потому что сам язык <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span> по сути статичен. Это означает что <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTML</span>-код страницы вместе с полезной, выводимой информацией после того как он написан и размещён на сервере не может быть изменён никакими внешними воздействиями. Т.е. все клиенты (посетители сайта) всегда будут видеть одну и ту же страницу. Изменить страницу может только сам разработчик сайта, например, набрать новый <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-код, добавить новую информацию и загрузить изменённую страницу заново на сервер.&nbsp;</i></p><p class=\"MsoNormal\"><i>Изменить это положение призваны языки <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-программирования, такие как <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">JavaScript</span> для изменения содержимого страницы непосредственно в браузере клиента (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">frontend</span>) или изменение содержимого страницы на сервере (или вообще динамическое формирование страницы с нуля) (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">backend</span>). И клиенты (браузеры) будут получать каждый раз новую или изменённую страницу (например, в зависимости от изменения данных во внешних источниках).</i></p><p class=\"MsoNormal\">Мы можем использовать для формирования содержимого <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страниц переменные, структуры данных, арифметические вычисления, условия, циклы, функции и пр., всю мощь языка Python.</p><p class=\"MsoNormal\">В частности мы можем передавать в шаблоны страниц параметры.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">Вспомните, как мы формировали для разных страниц разное содержимое тэга <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">&lt;</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">title</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">&gt;</span></span>. Однако, часто бывает, что страницы не только наполняются, но и создаются динамически, поэтому имеет смысл передавать <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">'</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">titlle</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">'</span></span> параметром в функции маршрута / рендеринга самого приложения, а не в шаблоне.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">1. Измените шаблон <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><code><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">base</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">.</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">html</span></code></span> следующим образом:</p><p class=\"MsoNormal\">(только часть кода - тэг &lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">title</span>&gt;)</p><pre><code class=\"language-python language-plaintext\">  &lt;title&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% block title %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; {% if title %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{title}} | Flask-site<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; {% else %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Flask-site<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; {% endif %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% endblock %}<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/title&gt;<span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">2. </span>Измените<span style=\"mso-ansi-language:EN-US;\"> </span>код<span style=\"mso-ansi-language:EN-US;\"> </span>функций<span style=\"mso-ansi-language:EN-US;\"> </span>рендеринга<span style=\"mso-ansi-language:EN-US;\"> </span>в<span style=\"mso-ansi-language:EN-US;\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app.py </span>следующим<span style=\"mso-ansi-language:EN-US;\"> </span>образом<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">:<o:p></o:p></span></p><pre><code class=\"language-python language-plaintext\">@app.route(\"/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef index():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return render_template(\"index.html\", title=\"Главная\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n@app.route(\"/about/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef about():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return render_template(\"about.html\", title=\"О приложении\")<span style=\"font-size:13.0pt;\"><span style=\"line-height:115%;mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></span></code></pre><p class=\"MsoNormal\">Пояснения к коду:</p><p class=\"MsoNormal\">В функции рендеринга мы добавили параметр <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">'</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">title</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">'</span></span> <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">c</span><span lang=\"EN-US\"> </span>содержимым для тэга <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">&lt;</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">title</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">&gt;</span></span> соответствующей страницы.</p><p class=\"MsoNormal\">А файле <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">base</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">.</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">html</span></span><span lang=\"EN-US\"> </span>мы описали следующую идею:</p><p class=\"MsoNormal\">если параметр <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">title</span></span><span lang=\"EN-US\"> </span>передан мы показываем его и рядом показываем <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">' | </span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">Flask</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">-</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">site</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\"> '</span></span> (ну т.е. какой то постоянный текст), а если не передан, то показываем только <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">'</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">Flask</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">-</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">site</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">'</span></span>.</p><p class=\"MsoNormal\">Обратите внимание на синтаксис: как с помощью шаблонизатора <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Jinja</span>2 формируются блоки <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">программного кода</span> (в данном случае конструкция условия). Также обратите внимание как принимаются в шаблоне переданные из приложения параметры - в двойных фигурных скобках.</p><p class=\"MsoNormal\">Примечание. Если у вас есть третья страница и третий маршрут, измените соответствующим образом и его.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">3. В самих страницах <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">(</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">index</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">, </span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">about</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">)</span></span> уберите строчку кода с блоком <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">title</span>, например:</p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">{% block title %}</span><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\">О</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\"> </span><span style=\"line-height:115%;mso-bidi-font-size:12.5pt;\">приложении</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:12.5pt;\" lang=\"EN-US\">{% endblock %}</span></code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">Она нам не нужна, т.к. содержимое <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">&lt;</span><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">title</span><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">&gt;</span></span> приходит из базового шаблона.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">4. Запустите приложение из терминала командой:</p><p class=\"a\"><code><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">python</span><span lang=\"EN-US\"> </span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span></code></p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">5. Протестируйте приложение, переходя по ссылкам и обращая внимание на титульник страницы на вкладке браузера. Попробуйте убрать параметр, в каком ни будь маршруте (например: <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">title=\"О приложении\"</span></span>) и посмотрите, как меняется <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ansi-language:EN-US;mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\" lang=\"EN-US\">title</span></span>.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>2. Другой пример передачи параметра в тело страницы.</h4><p class=\"MsoNormal\">Измените код в маршруте главной страницы следующим образом:</p><pre><code class=\"language-python language-plaintext\">@app.route(\"/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef index():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; return render_template(<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n\"index.html\", title=\"Главная\", group=\"304\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">т.е. мы добавили параметр <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">group</span>=\"304\".</p><p class=\"MsoNormal\">Измените код шаблона index.html следующим образом: добавьте после заголовка &lt;h1&gt; следующую строку:</p><p class=\"MsoNormal\"><span style=\"font-family:&quot;Courier New&quot;;\"><code>&lt;h3&gt;Привет {{group}} группа&lt;/h3&gt;</code></span></p><p class=\"MsoNormal\">Итак, запомним: мы можем передать любые динамические данные на страницу указав их в функции-обработчике маршрута в переменной-параметре, и принять их на странице параметром с тем же именем в двойных фигурных скобках {{ }}.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>3. Использование управляющих конструкций и структур данных для динамического формирования кода <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-страниц</h4><p class=\"MsoNormal\">Мы можем использовать любые управляющие конструкции языка <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">python</span>, например: условия, циклы, генераторы, функции, и любые структуры данных, например: списки, множества, словари, для динамического формирования кода на сервере и выдачи клиенту (браузеру) сформированного <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-кода с данными.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">Давайте сформируем список <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span> (т.е. &lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">ol</span>&gt; &lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">li</span>&gt;), на основе списка (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">list</span>) <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">python</span>.</p><p class=\"MsoNormal\">(Это может быть, например, список товаров, который приходит из базы данных, и может быть каждый раз разный).</p><p class=\"MsoNormal\">1. Добавьте в файл приложения (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">app</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">py</span>) перед функцией рендеринга главной страницы следующий код:</p><p class=\"a\"><code><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">LIST = [\"первый\", \"второй\", \"третий\"]</span></code></p><p class=\"MsoNormal\">А в саму функцию добавьте передачу этого списка параметром:</p><pre><code class=\"language-python language-plaintext\">@app.route(\"/\")<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\ndef index():<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  return render_template(\"index.html\", title=\"Главная\", LIST = LIST)<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\"><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\">2. Измените код шаблона страницы <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span lang=\"EN-US\"> </span>следующим образом:</p><pre><code class=\"language-python language-plaintext\">{% extends 'base.html' %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% block content %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;h1&gt;Главная страница&lt;/h1&gt;\r\n  &lt;h3&gt;Список&lt;/h3&gt;\r\n  &lt;ol&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% for item in LIST %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; &lt;li&gt;{{item}}&lt;/li&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% endfor %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n  &lt;/ol&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n{% endblock %}</code></pre><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Пояснения к коду:</p><p class=\"MsoNormal\">Сначала формируем обёртку для списка &lt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">ol</span>&gt;&lt;/<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">ol</span>&gt;, далее пишем цикл <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">python</span><span lang=\"EN-US\"> </span>в синтаксисе <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">Jinja</span>2.&nbsp;</p><p class=\"MsoNormal\">В цикле пробегаемся по списку <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">LIST</span> (который у нас получен из приложения параметром) и выводим каждый пункт списка.</p><p class=\"MsoNormal\">В приложении измените список и вы увидите, что <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-код (и визуализированный из него список) поменялся автоматически.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>4. Рендеринг словаря (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">dict</span>) вложенными циклами.</h4><p class=\"MsoNormal\">Пусть у нас есть <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">python</span>-словарь:</p><pre><code class=\"language-python language-plaintext\">plants = {\"Овощи\": [\"огурец\", \"помидор\", \"кабачок\"],\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \"Фрукты\": [\"яблоко\", \"груша\", \"персик\", \"абрикос\"],<span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \"Зелень\": [\"петрушка\", \"кинза\"]}<span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\"><o:p></o:p></span></code></pre><p class=\"MsoNormal\">Добавьте это код в app.py и также замените параметр в функции рендеринга на</p><p class=\"a\">plants = plants</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">В шаблоне <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span><span lang=\"EN-US\"> </span>измените код списка на следующий:</p><pre><code class=\"language-python language-plaintext\">  &lt;ul&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp; {% for key in plants %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;{{key}}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ul&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {% for i in plants[key] %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;{{i}}&lt;/li&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {% endfor %}<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/ul&gt;<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span>\r\n &nbsp;&nbsp;&nbsp;&nbsp; &lt;/li&gt;\r\n &nbsp;&nbsp; {% endfor %}\r\n  &lt;/ul&gt;</code></pre><p class=\"MsoNormal\">Обратите внимание, как правильно выводить ключи и значения словаря.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p><h4>5. Правильное формирование меню сайта</h4><p class=\"MsoNormal\">Как вы помните, у нас в базовом шаблоне <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span> есть меню сайта:</p><p><code>&lt;a href=\"/\"&gt;На Главную&lt;/a&gt;</code></p><p><code>&lt;a href=\"/about\"&gt;О приложении&lt;/a&gt;</code></p><p class=\"MsoNormal\">Т.е. гиперссылки, при клике на которые запускаются соответствующие функции - обработчики маршрутов, которые по <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">HTTP</span> запрашивают с сервера соответствующие <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span>-страницы, отправляют их в браузер и рендерят.</p><p class=\"MsoNormal\">Однако такой способ жёсткой записи гиперссылок или, говоря языком бэкенда, маршрутов ведущих на другие страницы или ресурсы <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-приложения сильно ограничен. В реальных крупных <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-приложениях маршруты могут длинными и многоуровневыми. Если у нас поменяется маршрут (<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span>, физическое местоположение другой страницы или ресурса), то ссылки перестанут работать (станут \"битыми\").&nbsp;</p><p class=\"MsoNormal\">Маршруты могут формироваться динамически.</p><p class=\"MsoNormal\">Поэтому существует более правильный способ записи маршрутов в меню <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">web</span>-приложения.<span style=\"mso-spacerun:yes;\">&nbsp; </span>Замените код гиперссылок меню в <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">base</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">html</span> следующим кодом:</p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\">&lt;a href=\"{{ url_for('index') }}\"&gt;</span><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">Главная</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\">&lt;/a&gt;</span><span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\"><o:p></o:p></span></code></p><p class=\"a\"><code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\">&lt;a href=\"{{ url_for('about') }}\"&gt;</span><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">О</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\"> </span><span style=\"line-height:115%;mso-bidi-font-size:13.5pt;\">приложении</span><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\">&lt;/a&gt;</span></code><span style=\"line-height:115%;mso-ansi-language:EN-US;mso-bidi-font-size:13.5pt;\" lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\">Обратите внимание: здесь мы указываем не <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span> (адрес) ресурса, а имя функции, обрабатывающей данный маршрут.</p><p class=\"MsoNormal\">Запустите приложение и убедитесь, что меню работает, и переходы между страницами работают.</p><p class=\"MsoNormal\">С <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">url_for() </span></span>мы можем редактировать маршруты и гарантировать, что ссылки будут работать должным образом. Функция <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">url_for()</span></span> также заботится о других вещах, таких как экранирование специальных символов.</p><p class=\"MsoNormal\"><o:p></o:p></p><p class=\"MsoNormal\">Если нам нужно одну и ту же страницу отобразить по нескольким URL-адресам, следует добавить несколько конструкций <span style=\"font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;\"><span style=\"mso-ascii-theme-font:minor-latin;mso-bidi-theme-font:minor-latin;mso-hansi-theme-font:minor-latin;\">rout</span></span>e, например:</p><p class=\"MsoNormal\"><o:p></o:p></p><pre><code class=\"language-python language-plaintext\">@app.route(\"/index\")\r\n@app.route(\"/\")\r\ndef index():\r\n &nbsp;  # код обработчика</code></pre><p class=\"MsoNormal\">Бывает, что посетитель заходит на главную страницу сайта не только по <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">URL</span><span lang=\"EN-US\"> </span>доменного имени, например: <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">my</span>-<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">site</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">kz</span> (что соответствует маршруту '/'), но и прямо указав имя главной страницы <span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">my</span>-<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">site</span>.<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">kz</span>/<span style=\"mso-ansi-language:EN-US;\" lang=\"EN-US\">index</span>. В таких случаях и поможет данная конструкция маршрута.</p><p class=\"MsoNormal\">&nbsp;</p><p class=\"MsoNormal\"><o:p></o:p></p>"
            },
            "is_published": true
        }
    ]
}